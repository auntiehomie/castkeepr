{"version":3,"file":"TransformMetadata.js","names":["withTransformMetadata","value","wywInJS","exports","getTransformMetadata","metadata","undefined"],"sources":["../../src/utils/TransformMetadata.ts"],"sourcesContent":["import type { Artifact, Replacement, Rules } from '@wyw-in-js/shared';\n\nexport type WYWTransformMetadata = {\n  dependencies: string[];\n  processors: { artifacts: Artifact[] }[];\n  replacements: Replacement[];\n  rules: Rules;\n};\n\nexport const withTransformMetadata = (\n  value: unknown\n): value is { wywInJS: WYWTransformMetadata } =>\n  typeof value === 'object' &&\n  value !== null &&\n  typeof (value as { wywInJS: unknown }).wywInJS === 'object';\n\nexport const getTransformMetadata = (\n  value: unknown\n): WYWTransformMetadata | undefined => {\n  if (withTransformMetadata(value) && value.wywInJS !== null) {\n    const metadata = value.wywInJS;\n    // eslint-disable-next-line no-param-reassign\n    delete (value as { wywInJS: unknown }).wywInJS;\n    return metadata;\n  }\n\n  return undefined;\n};\n"],"mappings":";;;;;;AASO,MAAMA,qBAAqB,GAChCC,KAAc,IAEd,OAAOA,KAAK,KAAK,QAAQ,IACzBA,KAAK,KAAK,IAAI,IACd,OAAQA,KAAK,CAA0BC,OAAO,KAAK,QAAQ;AAACC,OAAA,CAAAH,qBAAA,GAAAA,qBAAA;AAEvD,MAAMI,oBAAoB,GAC/BH,KAAc,IACuB;EACrC,IAAID,qBAAqB,CAACC,KAAK,CAAC,IAAIA,KAAK,CAACC,OAAO,KAAK,IAAI,EAAE;IAC1D,MAAMG,QAAQ,GAAGJ,KAAK,CAACC,OAAO;IAC9B;IACA,OAAQD,KAAK,CAA0BC,OAAO;IAC9C,OAAOG,QAAQ;EACjB;EAEA,OAAOC,SAAS;AAClB,CAAC;AAACH,OAAA,CAAAC,oBAAA,GAAAA,oBAAA"}