"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("@pigment-css/react"),c=require("react"),V1=require("hls.js"),e1={vars:{colors:{primary:"var(--colors-primary)"},typography:{fonts:{base:"var(--typography-fonts-base)"},fontWeights:{regular:"var(--typography-fontWeights-regular)",bold:"var(--typography-fontWeights-bold)"},fontSizes:{large:"var(--typography-fontSizes-large)",medium:"var(--typography-fontSizes-medium)",small:"var(--typography-fontSizes-small)"}},palette:{background:"var(--palette-background)",border:"var(--palette-border)",text:"var(--palette-text)",textMuted:"var(--palette-textMuted)"}}};var Ve={exports:{}},m1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de;function ht(){if(de)return m1;de=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(o,i,r){var a=null;if(r!==void 0&&(a=""+r),i.key!==void 0&&(a=""+i.key),"key"in i){r={};for(var d in i)d!=="key"&&(r[d]=i[d])}else r=i;return i=r.ref,{$$typeof:e,type:o,key:a,ref:i!==void 0?i:null,props:r}}return m1.Fragment=t,m1.jsx=n,m1.jsxs=n,m1}Ve.exports=ht();var s=Ve.exports,ne=(e=>(e.Light="light",e.Dark="dark",e))(ne||{}),s1=(e=>(e.FARCASTER="farcaster",e.NEYNAR="neynar",e.WARPCAST="warpcast",e))(s1||{});function I1(e,t="",{serialize:n=JSON.stringify,deserialize:o=JSON.parse}={}){const[i,r]=c.useState(()=>{if(typeof window>"u")return t;try{const f=window.localStorage.getItem(e);return f?o(f):t}catch(f){return console.error("Error reading from localStorage",f),t}});return[i,f=>{try{const u=f instanceof Function?f(i):f;r(u),typeof window<"u"&&window.localStorage.setItem(e,n(u))}catch(u){console.error("Error writing to localStorage",u)}},()=>{try{window.localStorage.removeItem(e),r(t)}catch(f){console.error("Error removing from localStorage",f)}}]}var C1=(e=>(e.NEYNAR_AUTHENTICATED_USER="neynar_authenticated_user",e))(C1||{});const $e=c.createContext(void 0),Ct=({children:e,_setIsAuthenticated:t,_setUser:n,_onAuthSuccess:o,_onSignout:i})=>{const{isAuthenticated:r}=K(),[a,d]=c.useState(!1),[f,u]=c.useState(null),[x]=I1(C1.NEYNAR_AUTHENTICATED_USER);c.useEffect(()=>{t(a)},[a]),c.useEffect(()=>{d(r)},[r]),c.useEffect(()=>{x?(u(x),d(!0)):(u(null),d(!1))},[]),c.useEffect(()=>{n(f)},[f]);const h=w=>{o&&o(w)},p=w=>{i&&i(w)},l=c.useMemo(()=>({isAuthenticated:a,user:f,setIsAuthenticated:d,setUser:u,onAuthSuccess:h,onSignout:p}),[a,f]);return s.jsx($e.Provider,{value:l,children:e})},Me=()=>{const e=c.useContext($e);if(!e)throw new Error("useAuth must be used within a AuthContextProvider");return e},pt=m.styled("div")({classes:["tbaom7c"]}),gt=m.styled("div")({classes:["t1ff44zi"],variants:[{props:{type:"success"},className:"t1ff44zi-1"},{props:{type:"error"},className:"t1ff44zi-2"},{props:{type:"warning"},className:"t1ff44zi-3"},{props:{type:"info"},className:"t1ff44zi-4"}]});var De=(e=>(e.Success="success",e.Error="error",e.Warning="warning",e.Info="info",e))(De||{});const Fe=c.createContext(void 0),mt=({children:e,settings:{clientId:t,defaultTheme:n=ne.Light,eventsCallbacks:o}})=>{const[i]=c.useState(t),[r,a]=c.useState(!1),[d,f]=c.useState(n),[u,x]=c.useState([]),[h,p]=c.useState(null),l=(_,R)=>{const C={type:_,message:R};x(y=>[...y,C]),setTimeout(()=>w(C),5e3)},w=_=>{x(R=>R.filter(C=>C!==_))};c.useEffect(()=>{const _=document.querySelector(":root");_&&(d==="light"?(_.classList.add("theme-light"),_.classList.remove("theme-dark")):d==="dark"&&(_.classList.add("theme-dark"),_.classList.remove("theme-light")))},[d]);const g=_=>{a(_)},E=_=>{p(_)},v=()=>{if(h){const{signer_uuid:_,...R}=h;p(null),a(!1),localStorage.removeItem(C1.NEYNAR_AUTHENTICATED_USER),o!=null&&o.onSignout&&o.onSignout(R)}},b=c.useMemo(()=>({client_id:i,theme:d,isAuthenticated:r,user:h,setTheme:f,showToast:l,logoutUser:v}),[i,d,r,h,f,l,v]);return s.jsx(Fe.Provider,{value:b,children:s.jsxs(Ct,{_setIsAuthenticated:g,_setUser:E,_onAuthSuccess:o==null?void 0:o.onAuthSuccess,_onSignout:o==null?void 0:o.onSignout,children:[e,s.jsx(pt,{children:u.map((_,R)=>s.jsx(gt,{type:_.type,children:_.message},R))})]})})},K=()=>{const e=c.useContext(Fe);if(!e)throw new Error("useNeynarContext must be used within a NeynarContextProvider");return e},xt=()=>s.jsxs("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M13.7222 0H4.27778C2.19137 0 0.5 1.69137 0.5 3.77778V13.2222C0.5 15.3086 2.19137 17 4.27778 17H13.7222C15.8086 17 17.5 15.3086 17.5 13.2222V3.77778C17.5 1.69137 15.8086 0 13.7222 0Z",fill:"#855DCD"}),s.jsx("path",{d:"M4.88281 2.64453H13.1184V14.3556H11.9095V8.9912H11.8976C11.764 7.50859 10.518 6.34675 9.00059 6.34675C7.4832 6.34675 6.23717 7.50859 6.10356 8.9912H6.0917V14.3556H4.88281V2.64453Z",fill:"white"}),s.jsx("path",{d:"M2.69141 4.30664L3.18252 5.96886H3.59807V12.6933C3.38943 12.6933 3.2203 12.8625 3.2203 13.0711V13.5244H3.14474C2.9361 13.5244 2.76696 13.6936 2.76696 13.9022V14.3555H6.99807V13.9022C6.99807 13.6936 6.82893 13.5244 6.6203 13.5244H6.54474V13.0711C6.54474 12.8625 6.3756 12.6933 6.16696 12.6933H5.71363V4.30664H2.69141Z",fill:"white"}),s.jsx("path",{d:"M11.9854 12.6933C11.7768 12.6933 11.6076 12.8625 11.6076 13.0711V13.5244H11.5321C11.3235 13.5244 11.1543 13.6936 11.1543 13.9022V14.3555H15.3854V13.9022C15.3854 13.6936 15.2162 13.5244 15.0076 13.5244H14.9321V13.0711C14.9321 12.8625 14.7629 12.6933 14.5543 12.6933V5.96886H14.9699L15.461 4.30664H12.4387V12.6933H11.9854Z",fill:"white"})]}),fe=()=>s.jsxs("svg",{width:"32",height:"17",viewBox:"0 0 50 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.3744 13.7311C38.3744 16.1209 37.7639 18.368 36.6904 20.3252C32.5685 19.8525 27.847 18.9503 22.8999 17.6247C20.4058 16.9564 18.0151 16.2236 15.7697 15.4495L15.7693 15.4486C15.7579 15.445 15.7465 15.4413 15.7351 15.4376C15.6448 15.4064 15.5547 15.3752 15.4649 15.3439C12.8978 14.399 11.2356 12.2056 11.4168 10.0315L11.4482 10.0399L11.4215 10.0133C13.0427 4.23612 18.3483 0 24.6434 0C32.2268 0 38.3744 6.14762 38.3744 13.7311Z",fill:"black"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3804 17.2987C12.4882 16.5313 13.9658 16.1804 15.5002 16.3953C17.7731 17.156 20.1682 17.8782 22.6535 18.5441C27.397 19.8151 31.9584 20.7444 36.0833 21.3275C33.623 25.0252 29.4177 27.4619 24.6434 27.4619C18.294 27.4619 12.9511 23.1524 11.3804 17.2987Z",fill:"black"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.0917 13.4458C41.6461 12.6648 39.9756 11.8759 38.1233 11.1029C38.0363 10.6544 37.9275 10.2136 37.7981 9.78174C39.9806 10.6648 41.9403 11.5752 43.6139 12.4794C45.7007 13.6069 47.3703 14.7394 48.4714 15.816C49.5356 16.8566 50.2295 18.0063 49.93 19.1241C49.6304 20.2419 48.4547 20.8906 47.0128 21.2597C45.5209 21.6415 43.5087 21.7875 41.1377 21.7206C39.6046 21.6773 37.9082 21.5444 36.0864 21.3234C36.3086 20.9891 36.5165 20.6446 36.7094 20.2906C38.3134 20.4733 39.8091 20.5841 41.1687 20.6225C43.4946 20.6882 45.3908 20.5409 46.7404 20.1955C48.14 19.8373 48.7389 19.3249 48.8689 18.8398C48.9989 18.3547 48.7364 17.6115 47.7034 16.6015C46.7073 15.6275 45.1388 14.5519 43.0917 13.4458ZM8.86229 3.16772C10.7583 3.22128 12.9038 3.41177 15.2278 3.73661C14.8974 4.04803 14.5824 4.37566 14.2841 4.71822C12.3016 4.46314 10.4678 4.312 8.83127 4.26577C6.50541 4.20006 4.6092 4.34737 3.25958 4.69279C1.86001 5.05099 1.26107 5.56342 1.13109 6.04849C1.00112 6.53356 1.2636 7.27681 2.29657 8.2868C3.29267 9.26075 4.86118 10.3364 6.90828 11.4425C6.94181 11.4606 6.97546 11.4787 7.00923 11.4968C6.84251 11.5938 6.72574 11.7161 6.66353 11.8645C6.57791 12.0688 6.60013 12.3121 6.72013 12.5874C6.60757 12.5279 6.49623 12.4684 6.38612 12.4089C4.29926 11.2814 2.62971 10.1489 1.5286 9.07223C0.464367 8.03166 -0.229485 6.882 0.0700354 5.76418C0.369556 4.64635 1.54528 3.99764 2.98722 3.6286C4.47911 3.24677 6.49126 3.10074 8.86229 3.16772Z",fill:"black"}),s.jsx("ellipse",{cx:"5.94866",cy:"11.5309",rx:"3.76009",ry:"0.575832",transform:"rotate(29.2824 5.94866 11.5309)",fill:"black"})]}),wt=()=>s.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("mask",{id:"mask0_875_48",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"17",height:"17",children:s.jsx("path",{d:"M16.9947 0H0V16.9947H16.9947V0Z",fill:"white"})}),s.jsxs("g",{mask:"url(#mask0_875_48)",children:[s.jsx("path",{d:"M12.7871 16.9947H4.20765C1.88755 16.9947 0 15.1073 0 12.7871V4.20771C0 1.88756 1.88755 0 4.20765 0H12.7871C15.1072 0 16.9947 1.88756 16.9947 4.20771V12.7871C16.9947 15.1073 15.1072 16.9947 12.7871 16.9947Z",fill:"#472A91"}),s.jsx("path",{d:"M11.1523 5.37891L10.3143 8.52601L9.47364 5.37891H7.53893L6.69017 8.54919L5.84419 5.37891H3.64062L5.68823 12.3371H7.58931L8.49835 9.10599L9.40736 12.3371H11.3125L13.3557 5.37891H11.1523Z",fill:"white"})]})]});var yt={};const B1=m.styled("img")({classes:["ippfsqr"]}),vt=m.styled("button")({classes:["b1yzssjb"]}),jt=m.styled("div")({classes:["m1xn8b2e"]}),Et=m.styled("button")({classes:["mwuiqyg"]}),_t=(e,t)=>{if(t)return t;switch(e){case s1.FARCASTER:return"Sign in with Farcaster";case s1.NEYNAR:return"Sign in with Neynar";case s1.WARPCAST:return"Sign in with Warpcast";default:return"Sign in with Neynar"}},St=(e,t,n)=>{if(t)return t;if(n)return s.jsx(B1,{src:n,alt:"Custom logo"});switch(e){case s1.FARCASTER:return s.jsx(xt,{});case s1.NEYNAR:return s.jsx(fe,{});case s1.WARPCAST:return s.jsx(wt,{});default:return s.jsx(fe,{})}},Oe=({children:e,label:t,variant:n=s1.NEYNAR,icon:o,customLogoUrl:i,modalStyle:r={},modalButtonStyle:a={},...d})=>{const{client_id:f,user:u,isAuthenticated:x}=K(),{setIsAuthenticated:h,setUser:p,onAuthSuccess:l,onSignout:w}=Me(),[g,E,v]=I1(C1.NEYNAR_AUTHENTICATED_USER),[b,_]=c.useState(!1),R=c.useRef(null),C=`${yt.NEYNAR_LOGIN_URL??"https://app.neynar.com/login"}?client_id=${f}`,y=new URL(C).origin,N=c.useRef(null),j=c.useCallback(async I=>{var H;if(I.origin===y&&I.data&&I.data.is_authenticated){h(!0),(H=R.current)==null||H.close(),window.removeEventListener("message",j);const U={signer_uuid:I.data.signer_uuid,...I.data.user};E(U),p(U),l({user:U})}},[f,h]),k=c.useCallback(()=>{const U=window.screen.width/2-300,L=`width=600,height=700,top=${window.screen.height/2-700/2},left=${U}`;if(R.current=window.open(C,"_blank",L),!R.current){console.error("Failed to open the authentication window. Please check your pop-up blocker settings.");return}window.addEventListener("message",j,!1)},[f,j]),A=()=>{if(u){const I=u;v(),h(!1),W();const{signer_uuid:H,...U}=I;w(U)}},M=()=>_(!0),W=()=>_(!1);c.useEffect(()=>()=>{window.removeEventListener("message",j)},[j]);const $=c.useCallback(I=>{N.current&&!N.current.contains(I.target)&&W()},[]);return c.useEffect(()=>(b?document.addEventListener("mousedown",$):document.removeEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}),[b,$]),s.jsxs(s.Fragment,{children:[b&&s.jsxs(jt,{style:r,ref:N,children:[s.jsx(B1,{src:u==null?void 0:u.pfp_url,alt:u==null?void 0:u.username}),s.jsxs("span",{children:["@",u==null?void 0:u.username]}),s.jsx(Et,{style:a,onClick:A,children:"Sign out"})]}),s.jsx(vt,{onClick:x?M:k,...d,children:x?s.jsxs(s.Fragment,{children:[s.jsx(B1,{src:u==null?void 0:u.pfp_url,alt:`${u==null?void 0:u.username} profile picture`}),s.jsxs("span",{style:{marginLeft:"10px"},children:["@",u==null?void 0:u.username]})]}):s.jsxs(s.Fragment,{children:[St(n,o,i),s.jsx("span",{style:{marginLeft:"5px"},children:_t(n,t)})]})})]})},L1=m.styled("img")({classes:["a11pt0xp"],vars:{"a11pt0xp-0":[(e,t=e1)=>e.width||"45px",!1],"a11pt0xp-1":[(e,t=e1)=>e.width||"45px",!1]}}),he="https://warpcast.com",He=/(^|\s)\/\w+/g,Ue=/@\w+(\.eth)?/g,Pe=/((https?:\/\/)?([a-zA-Z0-9.-]+\.[a-zA-Z]{2,})(\/[^\s]*)?)/g,Ce=new RegExp(`(${He.source})|(${Ue.source})|(${Pe.source})`,"g"),Rt=e=>He.test(e)?`${he}/~/channel${e.trim()}`:Ue.test(e)?`${he}/${e.substring(1)}`:Pe.test(e)?e.startsWith("http")?e:`http://${e}`:"",bt=m.styled("a")({classes:["s4xymqs"]}),At=e=>e.filter(t=>t.url).map(t=>t.url),Lt=(e,t)=>{if(!e)return[];const n=At(t),o=[];let i=0,r;for(;(r=Ce.exec(e))!==null;){const a=r.index;i<a&&o.push(e.slice(i,a));const d=r[0].trim();if(n.includes(d))o.push(d);else{const f=Rt(d);o.push(s.jsx(bt,{href:f,target:"_blank",children:d},a))}i=Ce.lastIndex}return i<e.length&&o.push(e.slice(i)),o},Z=m.styled("div")({classes:["be87m0m"],vars:{"be87m0m-0":[(e,t=e1)=>e.alignItems||"flex-start",!1],"be87m0m-1":[(e,t=e1)=>e.justifyContent||"flex-start",!1],"be87m0m-2":[(e,t=e1)=>e.flexGrow||"initial",!0],"be87m0m-3":[(e,t=e1)=>e.flexShrink||"initial",!0],"be87m0m-4":[(e,t=e1)=>e.spacing??e.spacingVertical??e.spacingTop??"0px",!1],"be87m0m-5":[(e,t=e1)=>e.spacing??e.spacingHorizontal??e.spacingRight??"0px",!1],"be87m0m-6":[(e,t=e1)=>e.spacing??e.spacingVertical??e.spacingBottom??"0px",!1],"be87m0m-7":[(e,t=e1)=>e.spacing??e.spacingHorizontal??e.spacingLeft??"0px",!1]}}),It=()=>Z,qe=m.styled(It())({classes:["v1lr8cv7"]}),Nt=()=>Z,G=m.styled(Nt())({classes:["ha1dvpi"]}),We=()=>s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{width:"18",height:"18",rx:"9",fill:"#8A63D2"}),s.jsx("path",{d:"M13.375 7.19002H10.25V3.58541C10.25 3.40518 10.125 3.22495 10 3.10479C9.75 2.92456 9.3125 2.98464 9.125 3.22495L4.125 9.83339C4.0625 9.95355 4 10.0737 4 10.1939C4 10.5543 4.25 10.7946 4.625 10.7946H7.75V14.3992C7.75 14.7597 8 15 8.375 15C8.5625 15 8.75 14.8798 8.875 14.7597L13.875 8.15125C13.9375 8.03109 14 7.91094 14 7.79078C14 7.43032 13.75 7.19002 13.375 7.19002Z",fill:"white"})]}),l1="https://sdk-api.neynar.com",kt="https://api.allorigins.win/get",x1="https://i.imgur.com/gxH8azy.png";var Tt={SDK_VERSION:'"1.2.0"'};const Vt=Tt.SDK_VERSION,u1=async(e,t={})=>(t.headers={...t.headers,"x-sdk":"react","x-sdk-version":Vt},fetch(e,t));async function $t({type:e,identifier:t,viewerFid:n,client_id:o}){try{let i=`${l1}/v2/farcaster/cast?type=${e}&identifier=${t}${n?`&viewer_fid=${n}`:""}&client_id=${o}`;const a=await(await u1(i)).json();return(a==null?void 0:a.cast)||null}catch(i){return console.error("Error fetching cast by identifier",i),null}}const Be=({type:e,identifier:t,viewerFid:n,allowReactions:o=!1,renderEmbeds:i=!0,renderFrames:r=!1,onLikeBtnPress:a,onRecastBtnPress:d,onCommentBtnPress:f,onFrameBtnPress:u,containerStyles:x,textStyles:h})=>{const{client_id:p}=K(),[l,w]=c.useState(null),[g,E]=c.useState(!0),[v,b]=c.useState(null),_=(l==null?void 0:l.author.fid)===n;return c.useEffect(()=>{e&&t&&(E(!0),b(null),$t({type:e,identifier:t,viewerFid:n,client_id:p}).then(R=>{w(R)}).catch(R=>{b(R)}).finally(()=>{E(!1)}))},[e,t,n,p]),g?s.jsx("div",{children:"Loading..."}):!l||v?s.jsx("div",{children:"Error: could not fetch cast data"}):r&&!u?s.jsx("div",{children:"Error: onFrameBtnPress must be provided when renderEmbeds is true."}):s.jsx(w1,{username:l.author.username,displayName:l.author.display_name,avatarImgUrl:l.author.pfp_url,text:l.text,hash:l.hash,reactions:l.reactions,replies:l.replies.count,embeds:l.embeds??[],frames:l.frames??[],renderEmbeds:i,renderFrames:r,channel:l.channel?{id:l.channel.id,name:l.channel.name,url:l.parent_url}:void 0,viewerFid:n,allowReactions:o,hasPowerBadge:l.author.power_badge,isOwnProfile:_,containerStyles:x,textStyles:h,onLikeBtnPress:a,onRecastBtnPress:d,onCommentBtnPress:f,onFrameBtnPress:u})},Mt=m.styled("a")({classes:["s1uo4lx4"]}),$1=new Map,_1=new Map,pe=new Map,ge=e=>new Promise(t=>setTimeout(t,e)),ze=async(e,t=0)=>{const n=new URL(e).hostname;if(pe.get(n))return{ogImage:"",ogTitle:"",ogDescription:""};if($1.has(e))return $1.get(e);if(_1.has(e))return _1.get(e);const o=(async()=>{try{await ge(100);const i=await fetch(`${kt}?url=${encodeURIComponent(e)}`,{method:"GET"});if(!i.ok){if(i.status===429&&t<5){const E=Math.pow(2,t)*1e3;return await ge(E),ze(e,t+1)}throw pe.set(n,!0),new Error(`Failed to fetch Open Graph data: ${i.statusText}`)}const r=await i.json(),d=new DOMParser().parseFromString(r.contents,"text/html"),f=d.querySelector('meta[property="og:image"]'),u=d.querySelector('meta[property="og:title"]'),x=d.querySelector('meta[property="og:description"]'),h=d.querySelector("title"),p=f&&f.getAttribute("content")||"",l=u?u.getAttribute("content")||"":h?h.innerText:"",w=x&&x.getAttribute("content")||"",g={ogImage:p,ogTitle:l,ogDescription:w};return $1.set(e,g),g}catch(i){return console.error("Error fetching Open Graph data",i),{ogImage:"",ogTitle:"",ogDescription:""}}finally{_1.delete(e)}})();return _1.set(e,o),o},z1=[];let M1=0;const Dt=5,Ft=e=>{z1.push(e),Ze()},Ze=async()=>{if(M1>=Dt||z1.length===0)return;M1++;const e=z1.shift();e&&await e(),M1--,Ze()},Ot=({src:e,alt:t,style:n})=>s.jsx("img",{src:e,alt:t,style:{display:"block",height:"auto",maxHeight:"150px",width:"auto",maxWidth:"100%",objectFit:"cover",border:"1px solid grey",borderRadius:"10px",margin:"10px 0",...n}}),Ht=({url:e})=>{const t=c.useRef(null);return c.useEffect(()=>{if(t.current)if(V1.isSupported()&&e.endsWith(".m3u8")){const n=new V1;n.loadSource(e),n.attachMedia(t.current),n.on(V1.Events.MANIFEST_PARSED,()=>{t.current.play()})}else t.current.src=e,t.current.addEventListener("loadedmetadata",()=>{t.current.play()})},[e]),s.jsx("video",{ref:t,controls:!0,muted:!0,style:{width:"auto",maxWidth:"100%",maxHeight:"400px",borderRadius:"10px",margin:"10px 0",objectFit:"contain"}})},Ut=e=>/\.(jpeg|jpg|gif|png|webp|bmp|svg)$/.test(e)||e.startsWith("https://imagedelivery.net"),Pt=(e,t,n)=>{const[o,i]=c.useState([]),r=c.useCallback(async a=>(await Promise.all(a.map(async f=>{if(f.url){const u=f.url;return Ut(u)?s.jsx(Ot,{src:u,alt:"Embedded image"},u):u.endsWith(".m3u8")||u.endsWith(".mp4")?s.jsx(Ht,{url:u},u):new Promise(x=>{Ft(async()=>{const{ogImage:h,ogTitle:p}=await ze(u),l=new URL(u).hostname.replace("www.","");x(s.jsxs(Mt,{href:u,target:"_blank",rel:"noreferrer",children:[h&&s.jsx("img",{src:h,alt:p,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"5px"}}),s.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[s.jsx("p",{style:{margin:0},children:p||u}),s.jsx("p",{style:{margin:0,color:"grey",fontSize:"12px"},children:l})]})]},u))})})}else if(f.cast_id)return s.jsx("div",{style:{maxWidth:"85%"},children:s.jsx(Be,{type:"hash",identifier:f.cast_id.hash,viewerFid:n,allowReactions:t,renderEmbeds:!1},f.cast_id.fid)},`cast-${f.cast_id.hash}`);return null}))).filter(f=>f!==null),[t,n]);return c.useEffect(()=>{r(e).then(i)},[e,r]),o},qt=({onClick:e})=>s.jsx("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t=>e?e(t):void 0,style:{cursor:"pointer"},children:s.jsx("path",{d:"M6.22857 12.6828H7.01285C7.01285 12.2496 6.66172 11.8985 6.22857 11.8985V12.6828ZM6.22857 15.8199H5.4443C5.4443 16.1137 5.60848 16.3828 5.8697 16.5172C6.13092 16.6517 6.44537 16.6288 6.68443 16.4581L6.22857 15.8199ZM10.6205 12.6828V11.8985C10.4571 11.8985 10.2977 11.9496 10.1647 12.0446L10.6205 12.6828ZM1.78428 3.27146C1.78428 2.54955 2.3695 1.96433 3.09141 1.96433V0.395777C1.50321 0.395777 0.215723 1.68327 0.215723 3.27146H1.78428ZM1.78428 10.5914V3.27146H0.215723V10.5914H1.78428ZM3.0914 11.8985C2.3695 11.8985 1.78428 11.3133 1.78428 10.5914H0.215723C0.215723 12.1796 1.50321 13.4671 3.0914 13.4671V11.8985ZM6.22857 11.8985H3.0914V13.4671H6.22857V11.8985ZM7.01285 15.8199V12.6828H5.4443V15.8199H7.01285ZM10.1647 12.0446L5.77272 15.1817L6.68443 16.4581L11.0764 13.321L10.1647 12.0446ZM14.5941 11.8985H10.6205V13.4671H14.5941V11.8985ZM15.9013 10.5914C15.9013 11.3133 15.316 11.8985 14.5941 11.8985V13.4671C16.1823 13.4671 17.4698 12.1796 17.4698 10.5914H15.9013ZM15.9013 3.27146V10.5914H17.4698V3.27146H15.9013ZM14.5941 1.96433C15.316 1.96433 15.9013 2.54955 15.9013 3.27146H17.4698C17.4698 1.68326 16.1823 0.395777 14.5941 0.395777V1.96433ZM3.09141 1.96433H14.5941V0.395777H3.09141V1.96433Z",fill:"#A0A3AD"})}),Wt=({fill:e,onClick:t})=>s.jsxs("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:e||"none",xmlns:"http://www.w3.org/2000/svg",onClick:n=>t?t(n):void 0,style:{cursor:"pointer"},children:[s.jsx("path",{d:"M14.9245 14.2506C14.7258 14.2506 14.5352 14.1716 14.3946 14.0311C14.2541 13.8905 14.1751 13.6999 14.1751 13.5011V10.5034H11.1774C10.9787 10.5034 10.7881 10.4245 10.6475 10.2839C10.507 10.1434 10.428 9.95279 10.428 9.75403C10.428 9.55527 10.507 9.36465 10.6475 9.22411C10.7881 9.08357 10.9787 9.00461 11.1774 9.00461H14.9245C15.1233 9.00461 15.3139 9.08357 15.4545 9.22411C15.595 9.36465 15.674 9.55527 15.674 9.75403V13.5011C15.674 13.6999 15.595 13.8905 15.4545 14.0311C15.3139 14.1716 15.1233 14.2506 14.9245 14.2506ZM5.18207 6.00693H1.43497C1.23621 6.00693 1.04559 5.92797 0.905047 5.78743C0.764503 5.64688 0.685547 5.45627 0.685547 5.25751V1.51041C0.685547 1.31165 0.764503 1.12103 0.905047 0.980486C1.04559 0.839943 1.23621 0.760986 1.43497 0.760986C1.63373 0.760986 1.82434 0.839943 1.96489 0.980486C2.10543 1.12103 2.18439 1.31165 2.18439 1.51041V4.50809H5.18207C5.38083 4.50809 5.57145 4.58704 5.71199 4.72759C5.85253 4.86813 5.93149 5.05875 5.93149 5.25751C5.93149 5.45627 5.85253 5.64688 5.71199 5.78743C5.57145 5.92797 5.38083 6.00693 5.18207 6.00693Z",fill:e||"#A0A3AD"}),s.jsx("path",{d:"M8.17934 15C6.33556 15.0003 4.55637 14.3209 3.18205 13.0918C1.80774 11.8627 0.934766 10.17 0.730106 8.33765C0.719281 8.23923 0.727945 8.13965 0.755606 8.04458C0.783266 7.94951 0.82938 7.86083 0.891315 7.78358C1.0164 7.62758 1.19833 7.52765 1.39709 7.50579C1.59585 7.48393 1.79515 7.54191 1.95116 7.667C2.10716 7.79208 2.20708 7.97401 2.22895 8.17277C2.37708 9.52376 2.97983 10.7843 3.93838 11.7478C4.89692 12.7113 6.15438 13.3205 7.50459 13.4755C8.85479 13.6306 10.2176 13.3223 11.3696 12.6012C12.5216 11.8801 13.3944 10.789 13.845 9.50674C13.8731 9.40817 13.9211 9.31642 13.986 9.23714C14.051 9.15787 14.1316 9.09277 14.2227 9.04586C14.3138 8.99895 14.4136 8.97123 14.5159 8.96442C14.6181 8.95761 14.7207 8.97185 14.8173 9.00625C14.9138 9.04066 15.0023 9.09451 15.0772 9.16446C15.1521 9.23442 15.2118 9.31899 15.2528 9.41296C15.2937 9.50693 15.3149 9.6083 15.3151 9.71079C15.3153 9.81329 15.2944 9.91473 15.2539 10.0089C14.7359 11.4705 13.7774 12.7355 12.5103 13.6294C11.2432 14.5233 9.73002 15.0022 8.17934 15ZM14.8792 7.50579C14.6939 7.50691 14.5148 7.43937 14.3764 7.3162C14.238 7.19302 14.1501 7.02295 14.1297 6.8388C13.975 5.49429 13.3699 4.24169 12.4128 3.28476C11.4558 2.32782 10.2031 1.72285 8.85858 1.56824C7.51405 1.41364 6.15676 1.7185 5.0075 2.43324C3.85823 3.14798 2.9846 4.23054 2.52872 5.50484C2.50062 5.6034 2.4526 5.69516 2.38763 5.77443C2.32266 5.85371 2.24212 5.91881 2.15099 5.96572C2.05987 6.01263 1.96008 6.04035 1.85781 6.04716C1.75555 6.05397 1.65297 6.03973 1.55642 6.00532C1.45988 5.97092 1.37141 5.91707 1.29651 5.84712C1.2216 5.77716 1.16183 5.69258 1.12091 5.59861C1.07999 5.50464 1.05878 5.40328 1.05859 5.30078C1.0584 5.19829 1.07923 5.09685 1.1198 5.00273C1.68406 3.40202 2.77497 2.04025 4.21397 1.14029C5.65297 0.240337 7.35485 -0.144505 9.04106 0.0487522C10.7273 0.242009 12.2979 1.00192 13.496 2.20411C14.6941 3.4063 15.4486 4.97958 15.6361 6.66644C15.6571 6.86306 15.5997 7.06004 15.4761 7.21445C15.3526 7.36887 15.173 7.4682 14.9766 7.4908L14.8792 7.50579Z",fill:e||"#A0A3AD"})]}),Bt=({fill:e,onClick:t})=>s.jsxs("svg",{width:"17",height:"15",viewBox:"0 0 17 15",fill:e?"red":"none",xmlns:"http://www.w3.org/2000/svg",onClick:n=>t?t(n):void 0,style:{cursor:"pointer"},children:[s.jsx("path",{d:"M13.8719 2.25042L14.2947 1.58984L13.8719 2.25042C15.2467 3.13022 15.7676 5.22206 14.8856 7.61317C14.0436 9.89583 11.9555 12.2374 8.51573 13.3648C5.07606 12.2374 2.98799 9.89584 2.14596 7.61316C1.26392 5.22203 1.7848 3.13022 3.15951 2.25042L3.15951 2.25042C4.58542 1.33783 5.64997 1.52983 6.39945 1.92503C7.21272 2.35388 7.73108 3.07114 7.86143 3.26838L8.51573 4.25838L9.17002 3.26838C9.30038 3.07113 9.81873 2.35388 10.632 1.92503C11.3815 1.52983 12.446 1.33783 13.8719 2.25042Z",stroke:e||"#A0A3AD",strokeWidth:"1.56855"}),s.jsx("mask",{id:"path-2-inside-1_187_1051",fill:"white",children:s.jsx("path",{d:"M8.58444 13.9397C7.76139 13.6864 7.05334 13.3937 6.29976 12.9825C5.95633 12.7951 5.62285 12.5895 5.3003 12.3681C5.14416 12.2609 4.99108 12.1493 4.84063 12.0343C4.78132 11.9889 4.88038 12.0652 4.82156 12.0195C4.80388 12.0058 4.7863 11.9919 4.76869 11.9781C4.73364 11.9505 4.69884 11.9225 4.66413 11.8945C4.58948 11.8342 4.51582 11.7727 4.4428 11.7105C3.90499 11.252 3.41381 10.7389 2.98016 10.1809C3.01856 10.2303 2.97651 10.176 2.97064 10.1683C2.9583 10.1522 2.94604 10.1359 2.9338 10.1197C2.90939 10.0874 2.88527 10.0548 2.86126 10.0221C2.80961 9.95189 2.75908 9.8808 2.70932 9.8092C2.61492 9.67345 2.52441 9.535 2.4371 9.39457C2.2673 9.12145 2.11213 8.83926 1.97147 8.55006C1.93849 8.48228 1.90657 8.41396 1.87531 8.34537C1.85978 8.3113 1.84459 8.27709 1.82948 8.24284C1.82195 8.22575 1.81456 8.20864 1.80714 8.19152C1.80167 8.17889 1.76856 8.10061 1.79664 8.16736C1.73728 8.0262 1.68205 7.88329 1.63029 7.73916C1.52982 7.45942 1.44498 7.17407 1.37575 6.88502C1.34218 6.74492 1.31301 6.60379 1.28746 6.46202C1.2754 6.39502 1.2645 6.32782 1.2543 6.26052C1.24925 6.22713 1.24453 6.19369 1.23994 6.16023C1.25136 6.24358 1.23495 6.11772 1.23231 6.09532C1.20042 5.82444 1.18535 5.55158 1.18721 5.27885C1.18811 5.14691 1.19374 5.01501 1.20334 4.88343C1.20788 4.82128 1.21368 4.75922 1.22023 4.69726C1.2235 4.66651 1.22713 4.6358 1.23089 4.60511C1.23278 4.58982 1.23477 4.57457 1.23678 4.5593C1.22562 4.64425 1.23563 4.56956 1.23823 4.55163C1.27428 4.30419 1.32861 4.05943 1.40097 3.82006C1.43614 3.70375 1.47635 3.58899 1.52072 3.47587C1.53125 3.449 1.54219 3.42229 1.55326 3.39564C1.51941 3.47716 1.55889 3.38334 1.56717 3.36464C1.59226 3.30803 1.61886 3.25209 1.64643 3.19664C1.75101 2.98624 1.87476 2.78549 2.01534 2.59724C2.02371 2.58603 2.03221 2.57492 2.04071 2.5638C1.99275 2.62656 2.02446 2.58496 2.03493 2.57169C2.05223 2.54974 2.06993 2.52808 2.08773 2.50653C2.12631 2.45984 2.16629 2.41434 2.20713 2.36962C2.28587 2.28341 2.36926 2.20151 2.456 2.12339C2.49787 2.08568 2.54084 2.0492 2.58443 2.01352C2.60631 1.99561 2.62852 1.97808 2.65084 1.9607C2.58164 2.01466 2.67191 1.94557 2.68962 1.93265C2.83338 1.8277 2.98587 1.7348 3.14013 1.6463C3.54393 1.41459 3.92437 1.25567 4.3831 1.15072C4.47716 1.12921 4.57219 1.11204 4.6676 1.09771C4.74483 1.08611 4.61527 1.10399 4.69217 1.09444C4.71513 1.0916 4.73817 1.08917 4.76119 1.08677C4.81403 1.08124 4.86704 1.07739 4.92007 1.07423C5.10084 1.06348 5.28237 1.06851 5.46252 1.0864C5.48336 1.08846 5.50417 1.09092 5.52495 1.09338C5.59508 1.10167 5.46943 1.08526 5.53899 1.09521C5.57965 1.10103 5.62016 1.10795 5.66059 1.11524C5.74647 1.13073 5.83159 1.1503 5.91604 1.17227C6.0728 1.21311 6.22621 1.26621 6.37595 1.32786C6.31111 1.30115 6.41877 1.34702 6.43584 1.35477C6.46987 1.3702 6.50356 1.38639 6.53714 1.4028C6.60865 1.43779 6.67886 1.47543 6.74817 1.51462C6.87662 1.58723 7.00062 1.66753 7.12092 1.7529C7.14882 1.77271 7.17637 1.79297 7.20383 1.81338C7.21739 1.82348 7.23087 1.8337 7.24432 1.84396C7.29158 1.87992 7.1988 1.80839 7.24529 1.84482C7.30109 1.88853 7.35568 1.93375 7.40949 1.97982C7.50652 2.06288 7.59994 2.15008 7.69053 2.24011C7.84008 2.38879 7.98044 2.54677 8.11149 2.71194C8.12572 2.72987 8.17533 2.79414 8.11485 2.7157C8.12636 2.73065 8.13776 2.74568 8.1491 2.76075C8.1694 2.78769 8.18934 2.81491 8.20905 2.8423C8.23825 2.88286 8.2667 2.92398 8.29429 2.96566C8.40374 3.131 8.6286 3.131 8.73805 2.96566C8.76707 2.92181 8.79712 2.87866 8.82785 2.83598C8.84783 2.80823 8.86819 2.78075 8.88875 2.75344C8.90242 2.73529 8.94928 2.67474 8.88935 2.75214C8.90409 2.73312 8.919 2.71424 8.93399 2.69542C9.0671 2.52834 9.21071 2.36968 9.36261 2.21954C9.45411 2.12907 9.5493 2.04234 9.64732 1.95897C9.69737 1.91641 9.74847 1.87507 9.80017 1.83456C9.7388 1.88263 9.82694 1.81457 9.84213 1.80327C9.87427 1.77937 9.90683 1.75606 9.9396 1.73301C10.0608 1.64773 10.1866 1.56915 10.3159 1.49682C10.3802 1.46084 10.4457 1.42703 10.5119 1.39467C10.5455 1.37823 10.5795 1.36251 10.6136 1.34704C10.6308 1.33926 10.6481 1.33171 10.6654 1.32417C10.6915 1.31296 10.6885 1.3142 10.6564 1.3279C10.6681 1.32303 10.6798 1.31822 10.6916 1.31349C10.8423 1.25235 10.9973 1.20246 11.1548 1.16239C11.2332 1.14248 11.3123 1.12599 11.3918 1.11166C11.4323 1.10435 11.473 1.09815 11.5138 1.09231C11.4471 1.10186 11.5171 1.09226 11.5281 1.09095C11.5559 1.08767 11.5838 1.08499 11.6117 1.0824C11.793 1.06553 11.9757 1.06513 12.1573 1.0771C12.203 1.08011 12.2485 1.08444 12.294 1.08921C12.3172 1.09163 12.3402 1.0945 12.3633 1.09734C12.3036 1.08994 12.3813 1.10022 12.3881 1.10123C12.4921 1.11685 12.5952 1.13785 12.6975 1.16193C13.1586 1.27048 13.5378 1.44037 13.9464 1.67761C14.0904 1.76129 14.2314 1.8507 14.3656 1.9495C14.377 1.95791 14.3884 1.96648 14.3997 1.97503C14.4419 2.00688 14.351 1.93696 14.3926 1.96945C14.4149 1.98683 14.4369 2.00462 14.4588 2.02252C14.5059 2.06115 14.5519 2.1013 14.5971 2.14228C14.6835 2.22073 14.7656 2.30388 14.8439 2.39035C14.8815 2.43176 14.9178 2.47427 14.9534 2.51736C14.9712 2.53891 14.9887 2.56077 15.006 2.58274C15.0384 2.62388 14.9682 2.53335 15 2.575C15.0114 2.58983 15.0225 2.60479 15.0336 2.61978C15.1736 2.80871 15.2946 3.01142 15.3985 3.22224C15.4238 3.27356 15.4477 3.32553 15.4709 3.37782C15.4767 3.39096 15.4824 3.40414 15.4881 3.41734C15.5093 3.46656 15.464 3.35945 15.4845 3.40902C15.4975 3.44013 15.5099 3.47148 15.5221 3.50289C15.5661 3.61632 15.6049 3.73175 15.6398 3.84833C15.7115 4.08832 15.763 4.33416 15.7984 4.58204C15.8064 4.63806 15.7901 4.51842 15.7975 4.57463C15.7995 4.58992 15.8014 4.60521 15.8033 4.6205C15.807 4.6512 15.8104 4.68197 15.8137 4.71273C15.8208 4.77994 15.8264 4.84732 15.8312 4.91474C15.8404 5.04658 15.8447 5.17876 15.8453 5.31093C15.8464 5.58418 15.8287 5.85737 15.7961 6.12862C15.7941 6.14529 15.7919 6.16192 15.7898 6.17856C15.7822 6.23827 15.7983 6.11722 15.7901 6.17697C15.7855 6.21044 15.7806 6.24389 15.7755 6.27731C15.7644 6.35031 15.752 6.4231 15.7388 6.49573C15.7129 6.63769 15.6823 6.7788 15.6484 6.91905C15.5784 7.20843 15.4909 7.49348 15.3897 7.77343C15.3648 7.84232 15.3388 7.9108 15.3121 7.97902C15.2987 8.01338 15.2849 8.0476 15.2711 8.08179C15.2641 8.09896 15.257 8.11604 15.25 8.13315C15.2452 8.14458 15.2405 8.15598 15.2357 8.16738C15.2496 8.13453 15.251 8.13117 15.2399 8.15734C15.1786 8.30137 15.1131 8.44355 15.0443 8.58416C14.9028 8.87351 14.7451 9.15483 14.5745 9.42799C14.4868 9.56844 14.395 9.70634 14.3002 9.84213C14.254 9.90821 14.2069 9.97355 14.1592 10.0385C14.1351 10.0711 14.1108 10.1036 14.0864 10.136C14.0741 10.1522 14.0617 10.1684 14.0494 10.1845C14.0319 10.2073 14.0329 10.2061 14.0522 10.181C14.0439 10.1918 14.0355 10.2025 14.0271 10.2132C13.8135 10.4869 13.5849 10.7488 13.3445 10.9992C13.0948 11.2594 12.8309 11.5058 12.556 11.7391C12.4884 11.7965 12.4199 11.8528 12.3509 11.9086C12.3162 11.9366 12.2812 11.9643 12.2461 11.992C12.2285 12.0058 12.2108 12.0196 12.1931 12.0333C12.2377 11.9987 12.1636 12.0558 12.156 12.0616C12.005 12.1765 11.8508 12.2871 11.6942 12.3941C11.3706 12.6153 11.0348 12.8185 10.6904 13.0055C10.5122 13.1023 10.3313 13.1939 10.1484 13.2815C10.059 13.3243 9.96904 13.3658 9.87868 13.4064C9.8331 13.4269 9.78733 13.4469 9.74151 13.4669C9.7185 13.4769 9.69541 13.4868 9.67233 13.4966C9.6442 13.5086 9.64146 13.5098 9.66417 13.5002C9.64864 13.5067 9.63313 13.5132 9.61758 13.5196C9.2349 13.6788 8.84398 13.8179 8.44786 13.9398C8.31409 13.9809 8.2304 14.1178 8.26839 14.2559C8.3047 14.3878 8.45064 14.4765 8.5845 14.4353C10.1534 13.9525 11.626 13.1871 12.8857 12.131C13.9425 11.245 14.8349 10.1456 15.4543 8.91165C15.9942 7.83608 16.3357 6.64744 16.3583 5.43967C16.3774 4.41628 16.149 3.35704 15.5742 2.49789C15.2929 2.07732 14.9371 1.71816 14.5205 1.43134C13.7956 0.932295 12.9294 0.592822 12.045 0.557214C10.7717 0.505949 9.60126 1.17157 8.7697 2.09685C8.59779 2.28813 8.43634 2.49172 8.29431 2.70629C8.44223 2.70629 8.59015 2.70629 8.73807 2.70629C8.22434 1.93023 7.48255 1.25338 6.6264 0.880424C5.9305 0.577258 5.18555 0.490164 4.43721 0.617179C3.98766 0.69348 3.55546 0.856508 3.14849 1.05915C2.81945 1.22296 2.50653 1.41842 2.22115 1.65017C1.44904 2.27713 0.973026 3.20995 0.783732 4.17519C0.56509 5.29004 0.68737 6.45381 1.02051 7.53339C1.41084 8.79827 2.09407 9.95916 2.95641 10.9589C3.94757 12.1081 5.19614 13.0306 6.5582 13.6933C7.16712 13.9896 7.8008 14.2362 8.44788 14.4353C8.58174 14.4765 8.72768 14.3878 8.76399 14.2559C8.80189 14.1177 8.71821 13.9809 8.58444 13.9397Z"})}),s.jsx("path",{d:"M8.58444 13.9397C7.76139 13.6864 7.05334 13.3937 6.29976 12.9825C5.95633 12.7951 5.62285 12.5895 5.3003 12.3681C5.14416 12.2609 4.99108 12.1493 4.84063 12.0343C4.78132 11.9889 4.88038 12.0652 4.82156 12.0195C4.80388 12.0058 4.7863 11.9919 4.76869 11.9781C4.73364 11.9505 4.69884 11.9225 4.66413 11.8945C4.58948 11.8342 4.51582 11.7727 4.4428 11.7105C3.90499 11.252 3.41381 10.7389 2.98016 10.1809C3.01856 10.2303 2.97651 10.176 2.97064 10.1683C2.9583 10.1522 2.94604 10.1359 2.9338 10.1197C2.90939 10.0874 2.88527 10.0548 2.86126 10.0221C2.80961 9.95189 2.75908 9.8808 2.70932 9.8092C2.61492 9.67345 2.52441 9.535 2.4371 9.39457C2.2673 9.12145 2.11213 8.83926 1.97147 8.55006C1.93849 8.48228 1.90657 8.41396 1.87531 8.34537C1.85978 8.3113 1.84459 8.27709 1.82948 8.24284C1.82195 8.22575 1.81456 8.20864 1.80714 8.19152C1.80167 8.17889 1.76856 8.10061 1.79664 8.16736C1.73728 8.0262 1.68205 7.88329 1.63029 7.73916C1.52982 7.45942 1.44498 7.17407 1.37575 6.88502C1.34218 6.74492 1.31301 6.60379 1.28746 6.46202C1.2754 6.39502 1.2645 6.32782 1.2543 6.26052C1.24925 6.22713 1.24453 6.19369 1.23994 6.16023C1.25136 6.24358 1.23495 6.11772 1.23231 6.09532C1.20042 5.82444 1.18535 5.55158 1.18721 5.27885C1.18811 5.14691 1.19374 5.01501 1.20334 4.88343C1.20788 4.82128 1.21368 4.75922 1.22023 4.69726C1.2235 4.66651 1.22713 4.6358 1.23089 4.60511C1.23278 4.58982 1.23477 4.57457 1.23678 4.5593C1.22562 4.64425 1.23563 4.56956 1.23823 4.55163C1.27428 4.30419 1.32861 4.05943 1.40097 3.82006C1.43614 3.70375 1.47635 3.58899 1.52072 3.47587C1.53125 3.449 1.54219 3.42229 1.55326 3.39564C1.51941 3.47716 1.55889 3.38334 1.56717 3.36464C1.59226 3.30803 1.61886 3.25209 1.64643 3.19664C1.75101 2.98624 1.87476 2.78549 2.01534 2.59724C2.02371 2.58603 2.03221 2.57492 2.04071 2.5638C1.99275 2.62656 2.02446 2.58496 2.03493 2.57169C2.05223 2.54974 2.06993 2.52808 2.08773 2.50653C2.12631 2.45984 2.16629 2.41434 2.20713 2.36962C2.28587 2.28341 2.36926 2.20151 2.456 2.12339C2.49787 2.08568 2.54084 2.0492 2.58443 2.01352C2.60631 1.99561 2.62852 1.97808 2.65084 1.9607C2.58164 2.01466 2.67191 1.94557 2.68962 1.93265C2.83338 1.8277 2.98587 1.7348 3.14013 1.6463C3.54393 1.41459 3.92437 1.25567 4.3831 1.15072C4.47716 1.12921 4.57219 1.11204 4.6676 1.09771C4.74483 1.08611 4.61527 1.10399 4.69217 1.09444C4.71513 1.0916 4.73817 1.08917 4.76119 1.08677C4.81403 1.08124 4.86704 1.07739 4.92007 1.07423C5.10084 1.06348 5.28237 1.06851 5.46252 1.0864C5.48336 1.08846 5.50417 1.09092 5.52495 1.09338C5.59508 1.10167 5.46943 1.08526 5.53899 1.09521C5.57965 1.10103 5.62016 1.10795 5.66059 1.11524C5.74647 1.13073 5.83159 1.1503 5.91604 1.17227C6.0728 1.21311 6.22621 1.26621 6.37595 1.32786C6.31111 1.30115 6.41877 1.34702 6.43584 1.35477C6.46987 1.3702 6.50356 1.38639 6.53714 1.4028C6.60865 1.43779 6.67886 1.47543 6.74817 1.51462C6.87662 1.58723 7.00062 1.66753 7.12092 1.7529C7.14882 1.77271 7.17637 1.79297 7.20383 1.81338C7.21739 1.82348 7.23087 1.8337 7.24432 1.84396C7.29158 1.87992 7.1988 1.80839 7.24529 1.84482C7.30109 1.88853 7.35568 1.93375 7.40949 1.97982C7.50652 2.06288 7.59994 2.15008 7.69053 2.24011C7.84008 2.38879 7.98044 2.54677 8.11149 2.71194C8.12572 2.72987 8.17533 2.79414 8.11485 2.7157C8.12636 2.73065 8.13776 2.74568 8.1491 2.76075C8.1694 2.78769 8.18934 2.81491 8.20905 2.8423C8.23825 2.88286 8.2667 2.92398 8.29429 2.96566C8.40374 3.131 8.6286 3.131 8.73805 2.96566C8.76707 2.92181 8.79712 2.87866 8.82785 2.83598C8.84783 2.80823 8.86819 2.78075 8.88875 2.75344C8.90242 2.73529 8.94928 2.67474 8.88935 2.75214C8.90409 2.73312 8.919 2.71424 8.93399 2.69542C9.0671 2.52834 9.21071 2.36968 9.36261 2.21954C9.45411 2.12907 9.5493 2.04234 9.64732 1.95897C9.69737 1.91641 9.74847 1.87507 9.80017 1.83456C9.7388 1.88263 9.82694 1.81457 9.84213 1.80327C9.87427 1.77937 9.90683 1.75606 9.9396 1.73301C10.0608 1.64773 10.1866 1.56915 10.3159 1.49682C10.3802 1.46084 10.4457 1.42703 10.5119 1.39467C10.5455 1.37823 10.5795 1.36251 10.6136 1.34704C10.6308 1.33926 10.6481 1.33171 10.6654 1.32417C10.6915 1.31296 10.6885 1.3142 10.6564 1.3279C10.6681 1.32303 10.6798 1.31822 10.6916 1.31349C10.8423 1.25235 10.9973 1.20246 11.1548 1.16239C11.2332 1.14248 11.3123 1.12599 11.3918 1.11166C11.4323 1.10435 11.473 1.09815 11.5138 1.09231C11.4471 1.10186 11.5171 1.09226 11.5281 1.09095C11.5559 1.08767 11.5838 1.08499 11.6117 1.0824C11.793 1.06553 11.9757 1.06513 12.1573 1.0771C12.203 1.08011 12.2485 1.08444 12.294 1.08921C12.3172 1.09163 12.3402 1.0945 12.3633 1.09734C12.3036 1.08994 12.3813 1.10022 12.3881 1.10123C12.4921 1.11685 12.5952 1.13785 12.6975 1.16193C13.1586 1.27048 13.5378 1.44037 13.9464 1.67761C14.0904 1.76129 14.2314 1.8507 14.3656 1.9495C14.377 1.95791 14.3884 1.96648 14.3997 1.97503C14.4419 2.00688 14.351 1.93696 14.3926 1.96945C14.4149 1.98683 14.4369 2.00462 14.4588 2.02252C14.5059 2.06115 14.5519 2.1013 14.5971 2.14228C14.6835 2.22073 14.7656 2.30388 14.8439 2.39035C14.8815 2.43176 14.9178 2.47427 14.9534 2.51736C14.9712 2.53891 14.9887 2.56077 15.006 2.58274C15.0384 2.62388 14.9682 2.53335 15 2.575C15.0114 2.58983 15.0225 2.60479 15.0336 2.61978C15.1736 2.80871 15.2946 3.01142 15.3985 3.22224C15.4238 3.27356 15.4477 3.32553 15.4709 3.37782C15.4767 3.39096 15.4824 3.40414 15.4881 3.41734C15.5093 3.46656 15.464 3.35945 15.4845 3.40902C15.4975 3.44013 15.5099 3.47148 15.5221 3.50289C15.5661 3.61632 15.6049 3.73175 15.6398 3.84833C15.7115 4.08832 15.763 4.33416 15.7984 4.58204C15.8064 4.63806 15.7901 4.51842 15.7975 4.57463C15.7995 4.58992 15.8014 4.60521 15.8033 4.6205C15.807 4.6512 15.8104 4.68197 15.8137 4.71273C15.8208 4.77994 15.8264 4.84732 15.8312 4.91474C15.8404 5.04658 15.8447 5.17876 15.8453 5.31093C15.8464 5.58418 15.8287 5.85737 15.7961 6.12862C15.7941 6.14529 15.7919 6.16192 15.7898 6.17856C15.7822 6.23827 15.7983 6.11722 15.7901 6.17697C15.7855 6.21044 15.7806 6.24389 15.7755 6.27731C15.7644 6.35031 15.752 6.4231 15.7388 6.49573C15.7129 6.63769 15.6823 6.7788 15.6484 6.91905C15.5784 7.20843 15.4909 7.49348 15.3897 7.77343C15.3648 7.84232 15.3388 7.9108 15.3121 7.97902C15.2987 8.01338 15.2849 8.0476 15.2711 8.08179C15.2641 8.09896 15.257 8.11604 15.25 8.13315C15.2452 8.14458 15.2405 8.15598 15.2357 8.16738C15.2496 8.13453 15.251 8.13117 15.2399 8.15734C15.1786 8.30137 15.1131 8.44355 15.0443 8.58416C14.9028 8.87351 14.7451 9.15483 14.5745 9.42799C14.4868 9.56844 14.395 9.70634 14.3002 9.84213C14.254 9.90821 14.2069 9.97355 14.1592 10.0385C14.1351 10.0711 14.1108 10.1036 14.0864 10.136C14.0741 10.1522 14.0617 10.1684 14.0494 10.1845C14.0319 10.2073 14.0329 10.2061 14.0522 10.181C14.0439 10.1918 14.0355 10.2025 14.0271 10.2132C13.8135 10.4869 13.5849 10.7488 13.3445 10.9992C13.0948 11.2594 12.8309 11.5058 12.556 11.7391C12.4884 11.7965 12.4199 11.8528 12.3509 11.9086C12.3162 11.9366 12.2812 11.9643 12.2461 11.992C12.2285 12.0058 12.2108 12.0196 12.1931 12.0333C12.2377 11.9987 12.1636 12.0558 12.156 12.0616C12.005 12.1765 11.8508 12.2871 11.6942 12.3941C11.3706 12.6153 11.0348 12.8185 10.6904 13.0055C10.5122 13.1023 10.3313 13.1939 10.1484 13.2815C10.059 13.3243 9.96904 13.3658 9.87868 13.4064C9.8331 13.4269 9.78733 13.4469 9.74151 13.4669C9.7185 13.4769 9.69541 13.4868 9.67233 13.4966C9.6442 13.5086 9.64146 13.5098 9.66417 13.5002C9.64864 13.5067 9.63313 13.5132 9.61758 13.5196C9.2349 13.6788 8.84398 13.8179 8.44786 13.9398C8.31409 13.9809 8.2304 14.1178 8.26839 14.2559C8.3047 14.3878 8.45064 14.4765 8.5845 14.4353C10.1534 13.9525 11.626 13.1871 12.8857 12.131C13.9425 11.245 14.8349 10.1456 15.4543 8.91165C15.9942 7.83608 16.3357 6.64744 16.3583 5.43967C16.3774 4.41628 16.149 3.35704 15.5742 2.49789C15.2929 2.07732 14.9371 1.71816 14.5205 1.43134C13.7956 0.932295 12.9294 0.592822 12.045 0.557214C10.7717 0.505949 9.60126 1.17157 8.7697 2.09685C8.59779 2.28813 8.43634 2.49172 8.29431 2.70629C8.44223 2.70629 8.59015 2.70629 8.73807 2.70629C8.22434 1.93023 7.48255 1.25338 6.6264 0.880424C5.9305 0.577258 5.18555 0.490164 4.43721 0.617179C3.98766 0.69348 3.55546 0.856508 3.14849 1.05915C2.81945 1.22296 2.50653 1.41842 2.22115 1.65017C1.44904 2.27713 0.973026 3.20995 0.783732 4.17519C0.56509 5.29004 0.68737 6.45381 1.02051 7.53339C1.41084 8.79827 2.09407 9.95916 2.95641 10.9589C3.94757 12.1081 5.19614 13.0306 6.5582 13.6933C7.16712 13.9896 7.8008 14.2362 8.44788 14.4353C8.58174 14.4765 8.72768 14.3878 8.76399 14.2559C8.80189 14.1177 8.71821 13.9809 8.58444 13.9397Z",stroke:e||"#A0A3AD",strokeWidth:"3.13711",mask:"url(#path-2-inside-1_187_1051)"})]});function Ye({onClick:e,size:t=24}){return s.jsx("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 16 16",width:t,height:t,fill:"#4A4A4A",style:{display:"inline-block",userSelect:"none",verticalAlign:"text-bottom",overflow:"visible",cursor:"pointer",padding:"4px"},onClick:e,children:s.jsx("path",{d:"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"})})}const zt=()=>Z,Zt=m.styled(zt())({classes:["rect7e5"]}),Yt=()=>Z,Gt=m.styled(Yt())({classes:["p13mqntt"]}),Jt=()=>Z,Kt=m.styled(Jt())({classes:["p1r47dz2"]}),Qt=()=>Z,Xt=m.styled(Qt())({classes:["cnojpqv"]}),es=({hash:e,reactions:t,onComment:n,onRecast:o,onLike:i,isLiked:r})=>{const{client_id:a,user:d,isAuthenticated:f}=K(),[u,x]=c.useState(!1),[h,p]=c.useState({top:0,left:0}),[l,w]=c.useState(null),[g,E]=c.useState(r),[v,b]=c.useState(!1),_=c.useRef(null),R=c.useRef({comment:null,recast:null,like:null});c.useEffect(()=>{E(t.likes.some(y=>y.fid===(d==null?void 0:d.fid))),b(t.recasts.some(y=>y.fid===(d==null?void 0:d.fid)))},[t,d]),c.useEffect(()=>{const y=localStorage.getItem(C1.NEYNAR_AUTHENTICATED_USER);if(y)try{w(JSON.parse(y).signer_uuid)}catch(N){console.error("Error parsing JSON from local storage:",N),w(null)}else console.warn("No NEYNAR_AUTHENTICATED_USER found in local storage.")},[f]),c.useEffect(()=>{(l||f)&&u&&x(!1)},[l,f,u]);const C=async(y,N)=>{if(l)switch(N){case"comment":if(n)n();else throw new Error("No comment handler function provided");break;case"recast":if(o)b(o());else throw new Error("No recast handler function provided");break;case"like":if(i)E(i());else throw new Error("No like handler function provided");break}const j=R.current[N];if(j){const k=j.getBoundingClientRect(),A=_.current;if(A){const M=A.getBoundingClientRect();p({top:k.top-M.height-10,left:k.left+k.width/2-M.width/2})}}};return s.jsxs(Zt,{children:[u&&s.jsxs(Gt,{ref:_,style:{top:h.top,left:h.left},children:[s.jsx(Kt,{children:s.jsx(Oe,{variant:s1.NEYNAR})}),s.jsx(Xt,{children:s.jsx(Ye,{onClick:()=>x(!1),size:16})})]}),s.jsx(Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:s.jsxs(Z,{spacingVertical:"15px",style:{display:"flex",gap:"10px"},children:[s.jsx("div",{ref:y=>R.current.comment=y,children:s.jsx(qt,{onClick:y=>C(y,"comment")})}),s.jsx("div",{ref:y=>R.current.recast=y,children:s.jsx(Wt,{fill:v?"green":void 0,onClick:y=>C(y,"recast")})}),s.jsx("div",{ref:y=>R.current.like=y,children:s.jsx(Bt,{fill:g?"red":void 0,onClick:y=>C(y,"like")})})]})})]})};function ts({onClick:e}){return s.jsx("svg",{style:{cursor:"pointer"},width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t=>e?e(t):void 0,children:s.jsx("path",{d:"M15.2003 7.49063C14.7504 7.49063 14.4504 7.79057 14.4504 8.24048V12.7396C14.4504 13.1895 14.1505 13.4894 13.7006 13.4894H3.20268C2.75277 13.4894 2.45283 13.1895 2.45283 12.7396V8.24048C2.45283 7.79057 2.15289 7.49063 1.70298 7.49063C1.25307 7.49063 0.953125 7.79057 0.953125 8.24048V12.7396C0.953125 14.0143 1.92793 14.9891 3.20268 14.9891H13.7006C14.9753 14.9891 15.9501 14.0143 15.9501 12.7396V8.24048C15.9501 7.79057 15.6502 7.49063 15.2003 7.49063ZM5.97713 4.26627L7.70178 2.54161V9.74018C7.70178 10.1901 8.00172 10.49 8.45163 10.49C8.90155 10.49 9.20149 10.1901 9.20149 9.74018V2.54161L10.9261 4.26627C11.2261 4.56621 11.676 4.56621 11.9759 4.26627C12.2759 3.96633 12.2759 3.51642 11.9759 3.21648L8.97653 0.217073C8.90155 0.142088 8.82656 0.0671031 8.75157 0.0671031C8.6016 -0.00788202 8.37665 -0.00788202 8.15169 0.0671031C8.07671 0.0671031 8.00172 0.142088 7.92674 0.217073L4.92734 3.21648C4.62739 3.51642 4.62739 3.96633 4.92734 4.26627C5.22728 4.56621 5.67719 4.56621 5.97713 4.26627Z",fill:"#A0A3AD"})})}const me=({url:e})=>{const[t,n]=c.useState(!1),o=async i=>{try{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>{n(!1)},2e3)}catch(r){console.error("Failed to copy the text to clipboard:",r)}};return s.jsx("div",{children:t?s.jsx("svg",{style:{cursor:"pointer",fill:"green"},width:"16",height:"15",viewBox:"0 0 16 15",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M5.99967 12.8136L1.71967 8.53364L0.559673 9.69364L5.99967 15.1336L16.4397 4.69364L15.2797 3.53364L5.99967 12.8136Z"})}):s.jsx(ts,{onClick:o})})},ss=()=>s.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M5.85855 0.555664H8.31281M8.31281 0.555664V2.73754M8.31281 0.555664L4.31445 4.11122",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round"}),s.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.31445 1H1.31445C0.762168 1 0.314453 1.44772 0.314453 2V8C0.314453 8.55228 0.762168 9 1.31445 9H7.31445C7.86674 9 8.31445 8.55228 8.31445 8V6H7.31445V8H1.31445V2H3.31445V1Z",fill:"#FFFFFF"})]}),ns=()=>s.jsx("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M5.01451 12.5187L4.96833 12.5174L4.93914 12.522C4.93113 12.516 4.92402 12.5087 4.91808 12.5005L4.51231 12.7926L4.91808 12.5005C4.9049 12.4822 4.89824 12.46 4.89913 12.4375L4.89953 12.4275V12.4176V8.81194V8.31194H4.39953H1.8876H1.88753C1.76188 8.31196 1.63853 8.27825 1.53036 8.21433C1.42218 8.1504 1.33315 8.05862 1.27256 7.94854C1.21196 7.83847 1.18203 7.71415 1.18588 7.58856C1.18973 7.46301 1.2272 7.34079 1.29438 7.23466C1.2944 7.23463 1.29442 7.23459 1.29444 7.23456L4.90001 1.54377L4.90567 1.53483L4.91095 1.52567C4.92227 1.50601 4.93988 1.49074 4.96094 1.48232C4.982 1.47389 5.00528 1.47281 5.02703 1.47924L5.02912 1.47985C5.05077 1.48614 5.06969 1.4995 5.08286 1.5178C5.09603 1.53609 5.1027 1.55827 5.1018 1.58079L5.10141 1.59073V1.60067V5.20631V5.70631H5.60141H8.11333H8.1134C8.23905 5.70629 8.3624 5.74 8.47058 5.80392C8.57875 5.86784 8.66778 5.95963 8.72838 6.06971C8.78897 6.17978 8.81891 6.3041 8.81506 6.42969C8.81121 6.55528 8.77371 6.67753 8.70649 6.78369L5.10232 12.4723C5.10219 12.4725 5.10205 12.4727 5.10191 12.4729C5.09255 12.4873 5.07969 12.499 5.06452 12.507C5.04914 12.5152 5.03191 12.5192 5.01451 12.5187Z",stroke:"#FFFFFF"})}),rs=m.styled("button")({classes:["f1hmcrrf"]}),os=m.styled("div")({classes:["f1ki4il6"]}),is=m.styled("div")({classes:["bgnz0ud"]}),as=m.styled("img")({classes:["f1gbget9"]}),cs=m.styled("div")({classes:["f4rwe4i"]}),ls=m.styled("div")({classes:["f1qellgw"]}),us=m.styled("input")({classes:["i1hgxwhi"]}),ds=m.styled("div")({classes:["s1ahcfax"]}),fs=()=>{const e=c.useRef(null);return c.useEffect(()=>{if(e.current){let t=0;const n=()=>{t+=6,e.current&&(e.current.style.transform=`rotate(${t}deg)`),requestAnimationFrame(n)};requestAnimationFrame(n)}},[]),s.jsx("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 text-white",style:{width:"24px",height:"24px"},children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})};function hs({number:e,text:t,actionType:n,target:o,frameUrl:i,handleOnClick:r}){return s.jsxs(rs,{onClick:()=>r(e),children:[t,(n==="link"||n==="post_redirect"||n==="mint")&&s.jsx(ss,{}),n==="tx"&&s.jsx(ns,{})]})}function Cs({frame:e,onFrameBtnPress:t}){var p;const[n,o]=c.useState(e),[i,r]=c.useState(""),[a,d]=c.useState(!1),f=()=>{const l=n.buttons.map(w=>s.jsx(hs,{number:w.index,text:w.title,actionType:w.action_type,target:w.target,frameUrl:e.frames_url,handleOnClick:g=>{d(!0),t(g,n,o,i).finally(()=>d(!1))}},w.index));return s.jsx(is,{children:l})},u=l=>{r(l)},x=l=>{try{return new URL(l).hostname.replace("www.","")}catch{return""}},h=()=>{switch(n.image_aspect_ratio){case"1:1":return{aspectRatio:"1 / 1"};case"1.91:1":return{aspectRatio:"1.91 / 1"};default:return{aspectRatio:"1.91 / 1"}}};return s.jsxs(s.Fragment,{children:[s.jsxs(os,{children:[a&&s.jsx(ds,{children:s.jsx(fs,{})}),n.frames_url&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:n.frames_url,target:"_blank",rel:"noopener noreferrer",style:{width:"100%"},children:s.jsx(as,{src:n.image,alt:`Frame image for ${n.frames_url}`,style:h()})}),((p=n.input)==null?void 0:p.text)&&s.jsx(us,{type:"text",placeholder:n.input.text,value:i,onChange:l=>u(l.target.value)}),f()]})]}),n.frames_url&&s.jsx(cs,{children:x(n.frames_url)})]})}const ps=({frame:e,onFrameBtnPress:t})=>s.jsx(ls,{children:e?s.jsx(Cs,{frame:e,onFrameBtnPress:t}):s.jsx(s.Fragment,{})}),Ge=({url:e,onFrameBtnPress:t,initialFrame:n})=>{const{client_id:o,showToast:i}=K(),[r]=I1(C1.NEYNAR_AUTHENTICATED_USER,null),[a,d]=c.useState(null),[f,u]=c.useState(n||null),[x,h]=c.useState(null);c.useEffect(()=>{r?d(r.signer_uuid):console.warn("No NEYNAR_AUTHENTICATED_USER found in local storage.")},[r]),c.useEffect(()=>{n||(async()=>{try{const g=await gs(`${l1}/v2/farcaster/frame/crawl?url=${e}&client_id=${o}`,{method:"GET"});if(g.ok){const v=(await g.json()).frame;if(Object.keys(v).length===0)throw new Error("No frame data available");u(v),h(null)}else throw new Error(`HTTP error! status: ${g.status}`)}catch(g){console.error(`An error occurred: ${g}`),h(`Failed to fetch: ${g.message}`)}})()},[e,i,n]);const p=w=>{if(typeof w!="object"||w===null)return!1;const g=["version","image","buttons","frames_url"];for(const E of g)if(!(E in w))return!1;return!(!Array.isArray(w.buttons)||w.buttons.some(E=>typeof E.index!="number"))},l=async(w,g,E,v)=>{try{const b=await t(w,g,E,v);if(!p(b))throw new Error("Invalid frame data received");E(b)}catch(b){i(De.Error,`An error occurred while processing the button press: ${b}`)}};return x?s.jsx("div",{style:{color:"red",padding:"10px",border:"1px solid red",borderRadius:"5px"},children:x}):s.jsx(ps,{frame:f,onFrameBtnPress:l})};function gs(e,t,n=8e3){return Promise.race([u1(e,t),new Promise((o,i)=>setTimeout(()=>i(new Error("Request timed out")),n))])}const ms=m.styled("div")({classes:["sxqvxvq"]}),xs=m.styled("a")({classes:["s3kamov"]}),ws=m.styled("div")({classes:["m1wrvvhk"]}),ys=m.styled("div")({classes:["u1lcaq27"]}),vs=m.styled("div")({classes:["lvnxx7k"]}),xe=m.styled("div")({classes:["e1dqpn4e"]}),js=m.styled("div")({classes:["r15yf123"]}),we=m.styled("div")({classes:["skmprsx"]}),w1=c.memo(({username:e,displayName:t,avatarImgUrl:n,text:o="",hash:i,reactions:r,replies:a,embeds:d=[],frames:f=[],channel:u,viewerFid:x,hasPowerBadge:h,isEmbed:p=!0,allowReactions:l,renderEmbeds:w,renderFrames:g,onLikeBtnPress:E,onRecastBtnPress:v,onCommentBtnPress:b,onFrameBtnPress:_,direct_replies:R,containerStyles:C,textStyles:y})=>{const[N,j]=c.useState(r.likes_count),[k,A]=c.useState(r.likes.some(L=>L.fid===x)),M=Lt(o,d),W=(d==null?void 0:d.length)===1,$=c.useMemo(()=>f.map(L=>L.frames_url),[f]),I=c.useMemo(()=>d.filter(L=>!$.includes(L.url)),[d,$]),H=c.useCallback(L=>{L.currentTarget.src=x1},[]);c.useEffect(()=>{A(r.likes.some(L=>L.fid===x))},[r.likes,x]);const U=c.useCallback(()=>E&&E()?(j(Q=>Q+1),A(!k),!0):!1,[E]),F=Pt(I,l,x);return s.jsx(ms,{style:{...C,borderWidth:p?"1px":"0"},children:s.jsxs(G,{children:[s.jsx(Z,{spacingRight:"10px",children:s.jsx(L1,{src:n&&n.length>0?n:x1,onError:H,loading:"lazy",alt:`${t??"Skeleton"} Avatar`})}),s.jsxs(ws,{children:[s.jsx(G,{justifyContent:"space-between",flexGrow:1,children:s.jsxs(qe,{children:[s.jsxs(G,{children:[s.jsx("strong",{children:t}),h&&s.jsx(Z,{spacingLeft:"5px",children:s.jsx(We,{})})]}),s.jsx(G,{alignItems:"center",children:s.jsxs(ys,{children:["@",e]})})]})}),s.jsx(Z,{spacingVertical:"15px",children:s.jsx(vs,{style:y,children:M})}),w&&I&&I.length>0?s.jsx(xe,{style:{margin:W?"10px 0":"0"},children:F.map((L,Q)=>s.jsx("div",{style:{width:"100%"},children:L},Q))}):s.jsx(s.Fragment,{}),g&&f&&f.length>0?s.jsx(xe,{children:f.map(L=>s.jsx(Ge,{url:L.frames_url,initialFrame:L,onFrameBtnPress:_},L.frames_url))}):null,s.jsxs(js,{style:{justifyContent:l?"space-between":"flex-end"},children:[l&&s.jsx(es,{hash:i,reactions:r,onComment:b,onRecast:v,onLike:U,isLiked:k}),l&&e&&i&&s.jsx(me,{url:`https://warpcast.com/${e}/${i.slice(0,10)}`})]}),s.jsxs(we,{style:{justifyContent:l?"":"space-between"},children:[s.jsxs(we,{style:{justifyContent:l?"":"space-between",gap:6},children:[s.jsxs("div",{children:[a," replies"]}),s.jsx("div",{children:"·"}),s.jsxs("div",{children:[N," likes"]}),u&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"·"}),s.jsxs(xs,{href:`https://warpcast.com/~/channel/${u.id}`,target:"_blank",children:["/",u.id]})]})]}),!l&&e&&i&&s.jsx(me,{url:`https://warpcast.com/${e}/${i.slice(0,10)}`})]})]})]})})}),Es=m.styled("div")({classes:["s1m6ob1a"]}),ye=m.styled("div")({classes:["r1esevc7"]}),ve=m.styled("div")({classes:["vxb1f00"]}),_s=m.styled("div")({classes:["htv0qz7"]}),je=m.styled("div")({classes:["rzksy2"]});function Ss(e){return s.jsx(Es,{children:e.casts.map((t,n)=>s.jsxs(ye,{children:[n!==0&&s.jsx(ve,{style:{left:"42px"}}),s.jsxs(je,{children:[s.jsx(w1,{isEmbed:!1,...t}),n===0&&s.jsx(_s,{}),t.direct_replies&&t.direct_replies.length>0&&t.direct_replies.map((o,i)=>s.jsxs(ye,{children:[s.jsx(ve,{style:{left:"42px"}}),s.jsx(je,{children:s.jsx(w1,{isEmbed:!1,...o})})]},i))]})]},n))})}async function Rs({type:e,identifier:t,replyDepth:n=2,includeChronologicalParentCasts:o=!1,limit:i=20,viewerFid:r,clientId:a}){try{let d=`${l1}/v2/farcaster/cast/conversation?identifier=${encodeURIComponent(t)}&type=${e}&reply_depth=${n}&include_chronological_parent_casts=${o}&limit=${i}&client_id=${a}`;return r&&(d+=`&viewer_fid=${r}`),await(await u1(d,{method:"GET",headers:{accept:"application/json"}})).json()||null}catch(d){return console.error("Error fetching conversation",d),null}}function Je(e){return{username:e.author.username,displayName:e.author.display_name,avatarImgUrl:e.author.pfp_url,text:e.text,hash:e.hash,reactions:e.reactions,replies:e.replies.count,embeds:e.embeds,frames:e.frames,renderEmbeds:e.renderEmbeds,channel:e.channel,viewerFid:2,hasPowerBadge:e.author.power_badge,isOwnProfile:!1,allowReactions:!0,renderFrames:!1,direct_replies:e.direct_replies?e.direct_replies.map(Je):[]}}function bs(e){const t=[];return e.cast&&t.push(Je(e.cast)),t}const As=({type:e,identifier:t,replyDepth:n=2,includeChronologicalParentCasts:o=!1,limit:i=20,viewerFid:r})=>{const{client_id:a}=K(),[d,f]=c.useState(null),[u,x]=c.useState(!0),[h,p]=c.useState(null);return c.useEffect(()=>{x(!0),p(null),Rs({type:e,identifier:t,replyDepth:n,includeChronologicalParentCasts:o,limit:i,viewerFid:r,clientId:a}).then(l=>{f(l)}).catch(l=>{p(l)}).finally(()=>{x(!1)})},[e,t,n,o,i,r,a]),u?s.jsx(s.Fragment,{children:" "}):h?s.jsx(s.Fragment,{children:" "}):s.jsx(Ss,{casts:bs(d.conversation)})};var Ke={exports:{}},D1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee;function Ls(){if(Ee)return D1;Ee=1;var e=c;function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,i=e.useEffect,r=e.useLayoutEffect,a=e.useDebugValue;function d(h,p){var l=p(),w=o({inst:{value:l,getSnapshot:p}}),g=w[0].inst,E=w[1];return r(function(){g.value=l,g.getSnapshot=p,f(g)&&E({inst:g})},[h,l,p]),i(function(){return f(g)&&E({inst:g}),h(function(){f(g)&&E({inst:g})})},[h]),a(l),l}function f(h){var p=h.getSnapshot;h=h.value;try{var l=p();return!n(h,l)}catch{return!0}}function u(h,p){return p()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:d;return D1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,D1}Ke.exports=Ls();var Qe=Ke.exports;const Xe=0,et=1,tt=2,_e=3;var Se=Object.prototype.hasOwnProperty;function Z1(e,t){var n,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((o=e.length)===t.length)for(;o--&&Z1(e[o],t[o]););return o===-1}if(!n||typeof e=="object"){o=0;for(n in e)if(Se.call(e,n)&&++o&&!Se.call(t,n)||!(n in t)||!Z1(e[n],t[n]))return!1;return Object.keys(t).length===o}}return e!==e&&t!==t}const t1=new WeakMap,a1=()=>{},O=a1(),Y1=Object,S=e=>e===O,J=e=>typeof e=="function",c1=(e,t)=>({...e,...t}),st=e=>J(e.then),F1={},S1={},re="undefined",j1=typeof window!=re,G1=typeof document!=re,Is=j1&&"Deno"in window,Ns=()=>j1&&typeof window.requestAnimationFrame!=re,i1=(e,t)=>{const n=t1.get(e);return[()=>!S(t)&&e.get(t)||F1,o=>{if(!S(t)){const i=e.get(t);t in S1||(S1[t]=i),n[5](t,c1(i,o),i||F1)}},n[6],()=>!S(t)&&t in S1?S1[t]:!S(t)&&e.get(t)||F1]};let J1=!0;const ks=()=>J1,[K1,Q1]=j1&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[a1,a1],Ts=()=>{const e=G1&&document.visibilityState;return S(e)||e!=="hidden"},Vs=e=>(G1&&document.addEventListener("visibilitychange",e),K1("focus",e),()=>{G1&&document.removeEventListener("visibilitychange",e),Q1("focus",e)}),$s=e=>{const t=()=>{J1=!0,e()},n=()=>{J1=!1};return K1("online",t),K1("offline",n),()=>{Q1("online",t),Q1("offline",n)}},Ms={isOnline:ks,isVisible:Ts},Ds={initFocus:Vs,initReconnect:$s},Re=!c.useId,y1=!j1||Is,Fs=e=>Ns()?window.requestAnimationFrame(e):setTimeout(e,1),A1=y1?c.useEffect:c.useLayoutEffect,O1=typeof navigator<"u"&&navigator.connection,be=!y1&&O1&&(["slow-2g","2g"].includes(O1.effectiveType)||O1.saveData),R1=new WeakMap,H1=(e,t)=>Y1.prototype.toString.call(e)===`[object ${t}]`;let Os=0;const X1=e=>{const t=typeof e,n=H1(e,"Date"),o=H1(e,"RegExp"),i=H1(e,"Object");let r,a;if(Y1(e)===e&&!n&&!o){if(r=R1.get(e),r)return r;if(r=++Os+"~",R1.set(e,r),Array.isArray(e)){for(r="@",a=0;a<e.length;a++)r+=X1(e[a])+",";R1.set(e,r)}if(i){r="#";const d=Y1.keys(e).sort();for(;!S(a=d.pop());)S(e[a])||(r+=a+":"+X1(e[a])+",");R1.set(e,r)}}else r=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return r},v1=e=>{if(J(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?X1(e):"",[e,t]};let Hs=0;const ee=()=>++Hs;async function nt(...e){const[t,n,o,i]=e,r=c1({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let a=r.populateCache;const d=r.rollbackOnError;let f=r.optimisticData;const u=p=>typeof d=="function"?d(p):d!==!1,x=r.throwOnError;if(J(n)){const p=n,l=[],w=t.keys();for(const g of w)!/^\$(inf|sub)\$/.test(g)&&p(t.get(g)._k)&&l.push(g);return Promise.all(l.map(h))}return h(n);async function h(p){const[l]=v1(p);if(!l)return;const[w,g]=i1(t,l),[E,v,b,_]=t1.get(t),R=()=>{const $=E[l];return(J(r.revalidate)?r.revalidate(w().data,p):r.revalidate!==!1)&&(delete b[l],delete _[l],$&&$[0])?$[0](tt).then(()=>w().data):w().data};if(e.length<3)return R();let C=o,y;const N=ee();v[l]=[N,0];const j=!S(f),k=w(),A=k.data,M=k._c,W=S(M)?A:M;if(j&&(f=J(f)?f(W,A):f,g({data:f,_c:W})),J(C))try{C=C(W)}catch($){y=$}if(C&&st(C))if(C=await C.catch($=>{y=$}),N!==v[l][0]){if(y)throw y;return C}else y&&j&&u(y)&&(a=!0,g({data:W,_c:O}));if(a&&!y)if(J(a)){const $=a(C,W);g({data:$,error:O,_c:O})}else g({data:C,error:O,_c:O});if(v[l][1]=ee(),Promise.resolve(R()).then(()=>{g({_c:O})}),y){if(x)throw y;return}return C}}const Ae=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Us=(e,t)=>{if(!t1.has(e)){const n=c1(Ds,t),o={},i=nt.bind(O,e);let r=a1;const a={},d=(x,h)=>{const p=a[x]||[];return a[x]=p,p.push(h),()=>p.splice(p.indexOf(h),1)},f=(x,h,p)=>{e.set(x,h);const l=a[x];if(l)for(const w of l)w(h,p)},u=()=>{if(!t1.has(e)&&(t1.set(e,[o,{},{},{},i,f,d]),!y1)){const x=n.initFocus(setTimeout.bind(O,Ae.bind(O,o,Xe))),h=n.initReconnect(setTimeout.bind(O,Ae.bind(O,o,et)));r=()=>{x&&x(),h&&h(),t1.delete(e)}}};return u(),[e,i,u,r]}return[e,t1.get(e)[4]]},Ps=(e,t,n,o,i)=>{const r=n.errorRetryCount,a=i.retryCount,d=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!S(r)&&a>r||setTimeout(o,d,i)},qs=Z1,[oe,Ws]=Us(new Map),Bs=c1({onLoadingSlow:a1,onSuccess:a1,onError:a1,onErrorRetry:Ps,onDiscarded:a1,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:be?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:be?5e3:3e3,compare:qs,isPaused:()=>!1,cache:oe,mutate:Ws,fallback:{}},Ms),zs=(e,t)=>{const n=c1(e,t);if(t){const{use:o,fallback:i}=e,{use:r,fallback:a}=t;o&&r&&(n.use=o.concat(r)),i&&a&&(n.fallback=c1(i,a))}return n},Zs=c.createContext({}),rt="$inf$",ot=j1&&window.__SWR_DEVTOOLS_USE__,Ys=ot?window.__SWR_DEVTOOLS_USE__:[],Gs=()=>{ot&&(window.__SWR_DEVTOOLS_REACT__=c)},it=e=>J(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Js=()=>c1(Bs,c.useContext(Zs)),Ks=e=>(t,n,o)=>e(t,n&&((...r)=>{const[a]=v1(t),[,,,d]=t1.get(oe);if(a.startsWith(rt))return n(...r);const f=d[a];return S(f)?n(...r):(delete d[a],f)}),o),Qs=Ys.concat(Ks),Xs=e=>function(...n){const o=Js(),[i,r,a]=it(n),d=zs(o,a);let f=e;const{use:u}=d,x=(u||[]).concat(Qs);for(let h=x.length;h--;)f=x[h](f);return f(i,r||d.fetcher||null,d)},en=(e,t,n)=>{const o=t[e]||(t[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i>=0&&(o[i]=o[o.length-1],o.pop())}},tn=(e,t)=>(...n)=>{const[o,i,r]=it(n),a=(r.use||[]).concat(t);return e(o,i,{...r,use:a})};Gs();const U1=c.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),P1={dedupe:!0},sn=(e,t,n)=>{const{cache:o,compare:i,suspense:r,fallbackData:a,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:u,refreshWhenHidden:x,refreshWhenOffline:h,keepPreviousData:p}=n,[l,w,g,E]=t1.get(o),[v,b]=v1(e),_=c.useRef(!1),R=c.useRef(!1),C=c.useRef(v),y=c.useRef(t),N=c.useRef(n),j=()=>N.current,k=()=>j().isVisible()&&j().isOnline(),[A,M,W,$]=i1(o,v),I=c.useRef({}).current,H=S(a)?S(n.fallback)?O:n.fallback[v]:a,U=(T,V)=>{for(const B in I){const D=B;if(D==="data"){if(!i(T[D],V[D])&&(!S(T[D])||!i(p1,V[D])))return!1}else if(V[D]!==T[D])return!1}return!0},F=c.useMemo(()=>{const T=!v||!t?!1:S(d)?j().isPaused()||r?!1:f!==!1:d,V=z=>{const n1=c1(z);return delete n1._k,T?{isValidating:!0,isLoading:!0,...n1}:n1},B=A(),D=$(),X=V(B),h1=B===D?X:V(D);let q=X;return[()=>{const z=V(A());return U(z,q)?(q.data=z.data,q.isLoading=z.isLoading,q.isValidating=z.isValidating,q.error=z.error,q):(q=z,z)},()=>h1]},[o,v]),L=Qe.useSyncExternalStore(c.useCallback(T=>W(v,(V,B)=>{U(B,V)||T()}),[o,v]),F[0],F[1]),Q=!_.current,N1=l[v]&&l[v].length>0,o1=L.data,P=S(o1)?H&&st(H)?U1(H):H:o1,d1=L.error,f1=c.useRef(P),p1=p?S(o1)?S(f1.current)?P:f1.current:o1:P,E1=N1&&!S(d1)?!1:Q&&!S(d)?d:j().isPaused()?!1:r?S(P)?!1:f:S(P)||f,ie=!!(v&&t&&Q&&E1),ut=S(L.isValidating)?ie:L.isValidating,dt=S(L.isLoading)?ie:L.isLoading,g1=c.useCallback(async T=>{const V=y.current;if(!v||!V||R.current||j().isPaused())return!1;let B,D,X=!0;const h1=T||{},q=!g[v]||!h1.dedupe,z=()=>Re?!R.current&&v===C.current&&_.current:v===C.current,n1={isValidating:!1,isLoading:!1},ce=()=>{M(n1)},le=()=>{const Y=g[v];Y&&Y[1]===D&&delete g[v]},ue={isValidating:!0};S(A().data)&&(ue.isLoading=!0);try{if(q&&(M(ue),n.loadingTimeout&&S(A().data)&&setTimeout(()=>{X&&z()&&j().onLoadingSlow(v,n)},n.loadingTimeout),g[v]=[V(b),ee()]),[B,D]=g[v],B=await B,q&&setTimeout(le,n.dedupingInterval),!g[v]||g[v][1]!==D)return q&&z()&&j().onDiscarded(v),!1;n1.error=O;const Y=w[v];if(!S(Y)&&(D<=Y[0]||D<=Y[1]||Y[1]===0))return ce(),q&&z()&&j().onDiscarded(v),!1;const r1=A().data;n1.data=i(r1,B)?r1:B,q&&z()&&j().onSuccess(B,v,n)}catch(Y){le();const r1=j(),{shouldRetryOnError:k1}=r1;r1.isPaused()||(n1.error=Y,q&&z()&&(r1.onError(Y,v,r1),(k1===!0||J(k1)&&k1(Y))&&(!j().revalidateOnFocus||!j().revalidateOnReconnect||k())&&r1.onErrorRetry(Y,v,r1,ft=>{const T1=l[v];T1&&T1[0]&&T1[0](_e,ft)},{retryCount:(h1.retryCount||0)+1,dedupe:!0})))}return X=!1,ce(),!0},[v,o]),ae=c.useCallback((...T)=>nt(o,C.current,...T),[]);if(A1(()=>{y.current=t,N.current=n,S(o1)||(f1.current=o1)}),A1(()=>{if(!v)return;const T=g1.bind(O,P1);let V=0;const D=en(v,l,(X,h1={})=>{if(X==Xe){const q=Date.now();j().revalidateOnFocus&&q>V&&k()&&(V=q+j().focusThrottleInterval,T())}else if(X==et)j().revalidateOnReconnect&&k()&&T();else{if(X==tt)return g1();if(X==_e)return g1(h1)}});return R.current=!1,C.current=v,_.current=!0,M({_k:b}),E1&&(S(P)||y1?T():Fs(T)),()=>{R.current=!0,D()}},[v]),A1(()=>{let T;function V(){const D=J(u)?u(A().data):u;D&&T!==-1&&(T=setTimeout(B,D))}function B(){!A().error&&(x||j().isVisible())&&(h||j().isOnline())?g1(P1).then(V):V()}return V(),()=>{T&&(clearTimeout(T),T=-1)}},[u,x,h,v]),c.useDebugValue(p1),r&&S(P)&&v){if(!Re&&y1)throw new Error("Fallback data is required when using Suspense in SSR.");y.current=t,N.current=n,R.current=!1;const T=E[v];if(!S(T)){const V=ae(T);U1(V)}if(S(d1)){const V=g1(P1);S(p1)||(V.status="fulfilled",V.value=!0),U1(V)}else throw d1}return{mutate:ae,get data(){return I.data=!0,p1},get error(){return I.error=!0,d1},get isValidating(){return I.isValidating=!0,ut},get isLoading(){return I.isLoading=!0,dt}}},nn=Xs(sn),rn=()=>{},on=rn(),te=Object,Le=e=>e===on,an=e=>typeof e=="function",b1=new WeakMap,q1=(e,t)=>te.prototype.toString.call(e)===`[object ${t}]`;let cn=0;const se=e=>{const t=typeof e,n=q1(e,"Date"),o=q1(e,"RegExp"),i=q1(e,"Object");let r,a;if(te(e)===e&&!n&&!o){if(r=b1.get(e),r)return r;if(r=++cn+"~",b1.set(e,r),Array.isArray(e)){for(r="@",a=0;a<e.length;a++)r+=se(e[a])+",";b1.set(e,r)}if(i){r="#";const d=te.keys(e).sort();for(;!Le(a=d.pop());)Le(e[a])||(r+=a+":"+se(e[a])+",");b1.set(e,r)}}else r=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return r},ln=e=>{if(an(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?se(e):"",[e,t]},un=e=>ln(e?e(0,null):null)[0],W1=Promise.resolve(),dn=e=>(t,n,o)=>{const i=c.useRef(!1),{cache:r,initialSize:a=1,revalidateAll:d=!1,persistSize:f=!1,revalidateFirstPage:u=!0,revalidateOnMount:x=!1,parallel:h=!1}=o,[,,,p]=t1.get(oe);let l;try{l=un(t),l&&(l=rt+l)}catch{}const[w,g,E]=i1(r,l),v=c.useCallback(()=>S(w()._l)?a:w()._l,[r,l,a]);Qe.useSyncExternalStore(c.useCallback(j=>l?E(l,()=>{j()}):()=>{},[r,l]),v,v);const b=c.useCallback(()=>{const j=w()._l;return S(j)?a:j},[l,a]),_=c.useRef(b());A1(()=>{if(!i.current){i.current=!0;return}l&&g({_l:f?_.current:b()})},[l,r]);const R=x&&!i.current,C=e(l,async j=>{const k=w()._i,A=w()._r;g({_r:O});const M=[],W=b(),[$]=i1(r,j),I=$().data,H=[];let U=null;for(let F=0;F<W;++F){const[L,Q]=v1(t(F,h?null:U));if(!L)break;const[N1,o1]=i1(r,L);let P=N1().data;const d1=d||k||S(P)||u&&!F&&!S(I)||R||I&&!S(I[F])&&!o.compare(I[F],P);if(n&&(typeof A=="function"?A(P,Q):d1)){const f1=async()=>{if(!(L in p))P=await n(Q);else{const E1=p[L];delete p[L],P=await E1}o1({data:P,_k:Q}),M[F]=P};h?H.push(f1):await f1()}else M[F]=P;h||(U=P)}return h&&await Promise.all(H.map(F=>F())),g({_i:O}),M},o),y=c.useCallback(function(j,k){const A=typeof k=="boolean"?{revalidate:k}:k||{},M=A.revalidate!==!1;return l?(M&&(S(j)?g({_i:!0,_r:A.revalidate}):g({_i:!1,_r:A.revalidate})),arguments.length?C.mutate(j,{...A,revalidate:M}):C.mutate()):W1},[l,r]),N=c.useCallback(j=>{if(!l)return W1;const[,k]=i1(r,l);let A;if(J(j)?A=j(b()):typeof j=="number"&&(A=j),typeof A!="number")return W1;k({_l:A}),_.current=A;const M=[],[W]=i1(r,l);let $=null;for(let I=0;I<A;++I){const[H]=v1(t(I,$)),[U]=i1(r,H),F=H?U().data:O;if(S(F))return y(W().data);M.push(F),$=F}return y(M)},[l,r,y,b]);return{size:b(),setSize:N,mutate:y,get data(){return C.data},get error(){return C.error},get isValidating(){return C.isValidating},get isLoading(){return C.isLoading}}},fn=tn(nn,dn),hn=m.styled("div")({classes:["sfmkqcr"]}),Cn=m.styled("div")({classes:["hrldtio"]}),pn=c.memo(({casts:e,cursor:t})=>s.jsx(hn,{children:e.map((n,o)=>s.jsxs(c.Fragment,{children:[s.jsx(w1,{isEmbed:!1,...n}),o<e.length-1&&s.jsx(Cn,{})]},n.hash))}));function gn(e){return e?e.map(t=>{var o,i,r,a;const n=t!=null&&t.replies&&typeof t.replies=="object"?Number(t.replies.count)||0:Number(t==null?void 0:t.replies)||0;return{username:((o=t==null?void 0:t.author)==null?void 0:o.username)??"",displayName:((i=t==null?void 0:t.author)==null?void 0:i.display_name)??"",avatarImgUrl:((r=t==null?void 0:t.author)==null?void 0:r.pfp_url)??"",text:(t==null?void 0:t.text)??"",hash:(t==null?void 0:t.hash)??"",reactions:(t==null?void 0:t.reactions)??[],replies:n,embeds:(t==null?void 0:t.embeds)??[],frames:(t==null?void 0:t.frames)??[],renderEmbeds:(t==null?void 0:t.renderEmbeds)??!0,channel:(t==null?void 0:t.channel)??"",viewerFid:2,hasPowerBadge:((a=t==null?void 0:t.author)==null?void 0:a.power_badge)??!1,isOwnProfile:!1,allowReactions:!0,renderFrames:!1}}):[]}const mn=e=>u1(e).then(t=>t.json()),xn=(e,t,n,o,i)=>{if(t&&(!t.casts||!t.casts.length))return null;let r=`${l1}/v2/farcaster/feed${n?"":"?"}`;const a=new URLSearchParams;n&&(r+=`${n}?`),i&&(r+=`client_id=${i}`),t&&(r+=`&cursor=${t.next.cursor}`);const d=(f,u)=>{u!=null&&!r.includes(`${f}=`)&&a.append(f,String(u))};if(o){Object.entries(o).forEach(([u,x])=>{const h=u.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();d(h,x)});const f=a.toString();f&&(r+=r.includes("?")?`&${f}`:`?${f}`)}if(Object.keys(o).length>1)return r},wn=({path:e,...t})=>{const{client_id:n}=K(),o=c.useRef(null),[i,r]=c.useState(!1),a=c.useRef(null),{data:d,error:f,size:u,setSize:x,isValidating:h}=fn((l,w)=>xn(l,w,e,t,n),mn),p=c.useMemo(()=>{if(!d)return[];const l=d.flatMap(g=>(g==null?void 0:g.casts)??[]),w=Array.from(new Set(l.map(g=>g.hash))).map(g=>l.find(E=>E.hash===g));return gn(w)},[d]);return c.useEffect(()=>(a.current&&a.current.disconnect(),a.current=new IntersectionObserver(l=>{var g,E;const[w]=l;w.isIntersecting&&!i&&!h&&d&&((E=(g=d[d.length-1])==null?void 0:g.next)!=null&&E.cursor)&&(r(!0),x(u+1).then(()=>r(!1)))},{rootMargin:"100px"}),o.current&&a.current.observe(o.current),()=>{a.current&&a.current.disconnect()}),[o.current,i,h,d,u]),!d&&!f?s.jsx("div",{children:"Loading..."}):f?s.jsx("div",{children:"Error fetching feed data"}):s.jsxs("div",{children:[s.jsx(pn,{casts:p,cursor:""}),h&&s.jsxs("div",{style:{display:"flex",justifyContent:"center",padding:"10px"},children:[s.jsxs("span",{style:{animation:"blink 1.5s infinite"},children:["Loading",s.jsx("span",{className:"dots",children:"..."})]}),s.jsx("style",{children:`
                        @keyframes blink {
                            0% { opacity: 1; }
                            50% { opacity: 0; }
                            100% { opacity: 1; }
                        }
                    `})]}),s.jsx("div",{ref:o})]})},yn=m.styled("button")({classes:["b1bqug8r"]}),vn=m.styled("button")({classes:["b1mra45w"]}),Ie="https://warpcast.com",at=/(^|\s)\/\w+/g,ct=/@\w+/g,lt=/((https?:\/\/)?([a-zA-Z0-9.-]+\.[a-zA-Z]{2,})(\/[^\s]*)?)/g,Ne=new RegExp(`(${at.source})|(${ct.source})|(${lt.source})`,"g"),jn=e=>at.test(e)?`${Ie}/~/channel${e.trim()}`:ct.test(e)?`${Ie}/${e.substring(1)}`:lt.test(e)?e.startsWith("http")?e:`http://${e}`:"",En=m.styled("a")({classes:["sby9wa2"]}),_n=e=>{if(!e)return[];const t=[];let n=0,o;for(;(o=Ne.exec(e))!==null;){const i=o.index;n<i&&t.push(e.slice(n,i));const r=jn(o[0]),a=o[0].trim().startsWith("/");t.push(s.jsx(En,{href:r,target:"_blank",style:a?{marginLeft:3.5}:{},children:o[0].trim()},i)),n=Ne.lastIndex}return n<e.length&&t.push(e.slice(n)),t};function ke(e){const t=Math.min(e,1e9);return t>=1e9?Math.floor(t/1e8)/10+"B":t>=1e6?Math.floor(t/1e5)/10+"M":t>=1e3?Math.floor(t/100)/10+"K":t.toString()}const Sn=m.styled("div")({classes:["sdahm58"]}),Rn=m.styled("div")({classes:["mziqyxp"]}),bn=m.styled("div")({classes:["uz7tpmf"]}),An=m.styled("div")({classes:["u1rxlwac"]}),Te=m.styled("div")({classes:["pgc6yqp"]}),Ln=m.styled("div")({classes:["torjf9a"]}),In=c.memo(({fid:e,username:t,displayName:n,avatarImgUrl:o,bio:i,followers:r,following:a,hasPowerBadge:d,isFollowing:f,isOwnProfile:u,onCast:x,containerStyles:h})=>{const p=_n(i),l=c.useMemo(()=>ke(a),[a]),w=c.useMemo(()=>ke(r),[r]),g=()=>{window.open("https://warpcast.com/~/settings","_blank")},E={color:h==null?void 0:h.color};return s.jsxs(Sn,{style:h,children:[u&&x&&s.jsxs(G,{alignItems:"center",justifyContent:"space-between",spacingBottom:"20px",children:[s.jsxs(An,{style:h,children:["@",t]}),s.jsx(yn,{onClick:x,children:"Cast"})]}),s.jsxs(G,{children:[s.jsx(Z,{spacingRight:"10px",children:s.jsx(L1,{src:o??x1,loading:"lazy",alt:`${n??"Skeleton"} Avatar`})}),s.jsxs(Rn,{children:[s.jsxs(G,{justifyContent:"space-between",flexGrow:1,children:[s.jsxs(qe,{children:[s.jsxs(G,{children:[s.jsx("strong",{children:n||`!${e}`}),d&&s.jsx(Z,{spacingLeft:"5px",children:s.jsx(We,{})})]}),s.jsxs(G,{alignItems:"center",children:[s.jsxs(bn,{style:h,children:["@",t]}),f&&s.jsx(Ln,{style:h,children:"Follows you"})]})]}),s.jsx(G,{children:u&&s.jsx(vn,{style:h,onClick:g,children:"Edit Profile"})})]}),s.jsx(Z,{spacingVertical:"15px",children:s.jsx("div",{style:h,children:p})}),s.jsxs(G,{children:[s.jsxs(Te,{children:[s.jsx("strong",{style:E,children:l})," Following"]}),s.jsxs(Te,{children:[s.jsx("strong",{style:E,children:w})," Followers"]})]})]})]})]})});async function Nn({fid:e,viewerFid:t,clientId:n}){var o;try{let i=`${l1}/v2/farcaster/user/bulk?client_id=${n}&fids=${e}`;t&&(i+=`&viewer_fid=${t}`);const a=await(await u1(i)).json();return((o=a==null?void 0:a.users)==null?void 0:o[0])??null}catch(i){return console.error("Error fetching user by fid",i),null}}const kn=({fid:e,viewerFid:t,containerStyles:n})=>{var p;const{client_id:o}=K(),[i,r]=c.useState(null),[a,d]=c.useState(!0),[f,u]=c.useState(null),x=(i==null?void 0:i.fid)===t;c.useEffect(()=>{e&&(d(!0),u(null),Nn({fid:e,viewerFid:t,clientId:o}).then(l=>{r(l)}).catch(l=>{u(l)}).finally(()=>{d(!1)}))},[e,t]);const h=c.useCallback(()=>{},[]);return a?s.jsx("div",{children:"Loading..."}):!i||f?s.jsx("div",{children:"Error fetching user data"}):s.jsx(In,{fid:e,username:i.username,displayName:i.display_name,avatarImgUrl:i.pfp_url,bio:i.profile.bio.text,followers:i.follower_count,following:i.following_count,hasPowerBadge:i.power_badge,isOwnProfile:x,isFollowing:(p=i.viewer_context)==null?void 0:p.followed_by,onCast:h,containerStyles:n})},Tn=m.styled("ul")({classes:["d12rx4om"]}),Vn=m.styled("li")({classes:["lrpm6lp"]}),$n=m.styled("img")({classes:["a1e9hg3b"]}),Mn=m.styled("div")({classes:["u1aqay1i"]}),Dn=m.styled("div")({classes:["d1m0njq"]}),Fn=m.styled("div")({classes:["u1lvlbuo"]}),On=({users:e,onSelect:t,customStyles:n={}})=>s.jsx(Tn,{style:{...n==null?void 0:n.dropdown},children:e.map(o=>s.jsxs(Vn,{style:{...n==null?void 0:n.listItem},onClick:()=>t(o),children:[s.jsx($n,{style:{...n==null?void 0:n.avatar},src:o.pfp_url,alt:o.username}),s.jsxs(Mn,{style:{...n.userInfo},children:[s.jsx(Dn,{children:o.display_name}),s.jsxs(Fn,{children:["@",o.username]})]})]},o.fid))}),Hn=m.styled("div")({classes:["c9hm20t"]}),Un=m.styled("input")({classes:["i80sd8h"]});async function Pn({q:e,viewerFid:t,client_id:n}){var o;try{let i=`${l1}/v2/farcaster/user/search?q=${e}&limit=5${t?`&viewer_fid=${t}`:""}&client_id=${n}`;const a=await(await u1(i)).json();return((o=a==null?void 0:a.result)==null?void 0:o.users)||[]}catch(i){return console.log("Error fetching users by query",i),null}}const qn=({value:e,onChange:t,style:n={},placeholder:o="Enter username",disabled:i=!1,viewerFid:r,customStyles:a={},limit:d=null})=>{const{client_id:f}=K(),[u,x]=c.useState(""),[h,p]=c.useState(!1),[l,w]=c.useState([]),g=c.useRef(null);c.useEffect(()=>{const C=(e==null?void 0:e.split(","))||[];if(!C[C.length-1]){x("");return}x(C[C.length-1].trim())},[e]),c.useEffect(()=>{u!==""&&!/^\d+$/.test(u)?E(u):p(!1)},[u]);const E=async C=>{const y=await Pn({q:C,viewerFid:r,client_id:f});y&&(w(y),p(!0))},v=C=>{const y=C.target.value;t(y)},b=C=>{let y=e.split(",");d!==null&&y.length>=d?y[y.length-1]=C.fid.toString():y.push(C.fid.toString());const N=y.join(",");t(N),x(""),p(!1)},_=()=>{u&&isNaN(Number(u))&&p(!0)},R=()=>{setTimeout(()=>p(!1),200)};return s.jsxs(Hn,{style:n,children:[s.jsx(Un,{ref:g,type:"text",value:e,onChange:v,onFocus:_,onBlur:R,placeholder:o,disabled:i}),h&&s.jsx(On,{users:l,onSelect:b,customStyles:a})]})},Wn=({color:e="#855DCD"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:e,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-search",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.3-4.3"})]}),Bn=({color:e="#855DCD"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:e,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-loader-circle",children:s.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),zn=m.styled("div")({classes:["ig7kcuc"]}),Zn=m.styled("input")({classes:["sh7z7k6"]}),Yn=m.styled("div")({classes:["s14ai203"]}),Gn=m.styled("div")({classes:["if18nd6"]}),Jn=m.styled("div")({classes:["sd833lb"]}),Kn=m.styled("div")({classes:["ugo586m"]}),Qn=m.styled("div")({classes:["ukwty1d"]}),Xn=m.styled("div")({classes:["u77olmy"]}),er=m.styled("div")({classes:["s1xvkxww"]}),tr=m.styled("div")({classes:["s1f6b1ja"]}),sr=m.styled("div")({classes:["udiufd8"]}),nr=m.styled("div")({classes:["f1b8a2h0"]}),rr=m.styled("div")({classes:["l1yq26j0"]}),or=m.styled("li")({classes:["s18mk47k"]}),ir=({width:e,height:t,selectedUsers:n,onSelectUsers:o,...i})=>{const{client_id:r}=K(),{user:a,isAuthenticated:d}=Me(),[f,u]=c.useState(""),[x,h]=c.useState([]),[p,l]=c.useState(!1),w=c.useRef(null);c.useEffect(()=>{function C(y){w.current&&!w.current.contains(y.target)&&(h([]),u(""))}return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const g=(C,y)=>{let N;return(...j)=>{clearTimeout(N),N=setTimeout(()=>C(...j),y)}},E=async(C,y)=>{var N;if(!C){h([]);return}l(!0);try{const k=await(await u1(y)).json();h(((N=k==null?void 0:k.result)==null?void 0:N.users)||[])}catch(j){console.error("Error fetching data:",j)}finally{l(!1)}},v=c.useCallback(g(E,500),[]),b=C=>{const y=`${l1}/v2/farcaster/user/search?q=${C.target.value}&client_id=${r}${d?`&viewer_fid=${a==null?void 0:a.fid}`:""})`;u(C.target.value),v(C.target.value,y)},_=C=>{n.some(y=>y.username===C.username)||(o([...n,C]),u(""),h([]))},R=C=>{o(n.filter(y=>y.username!==C))};return s.jsxs(zn,{ref:w,style:{width:e},children:[s.jsxs(Gn,{children:[n.map(C=>s.jsxs(Jn,{children:[s.jsx(L1,{src:C.pfp_url??x1,alt:`${C.username} Avatar`,style:{width:"24px",height:"24px",borderRadius:"50%"}}),s.jsx("span",{style:{marginLeft:"8px"},children:C.display_name}),s.jsx(Ye,{size:20,onClick:()=>R(C.username)})]},C.username)),s.jsxs(er,{children:[s.jsx(tr,{children:s.jsx(Wn,{color:"#855DCD"})}),s.jsx(Zn,{...i,value:f,onChange:b,placeholder:"Type to search users",style:{width:e||"100%",height:t||"40px"}})]})]}),p?s.jsx(rr,{children:s.jsx(Bn,{color:"#855DCD"})}):x.length!==0&&s.jsx(Yn,{children:x.map(C=>s.jsxs(or,{onClick:()=>_(C),children:[s.jsx(L1,{src:C.pfp_url??x1,alt:`${C.username} Avatar`,style:{width:"40px",height:"40px",borderRadius:"50%"}}),s.jsxs(Kn,{children:[s.jsx(Qn,{children:C.display_name}),s.jsxs(sr,{children:[s.jsxs(Xn,{children:["@",C.username]}),C.viewer_context&&(C.viewer_context.following||C.viewer_context.followed_by)&&s.jsx(nr,{children:C.viewer_context.following&&C.viewer_context.followed_by?"Following each other":C.viewer_context.following?"Following":C.viewer_context.followed_by?"Follows you":null})]})]})]},C.username))})]})};exports.CastCard=w1;exports.NeynarAuthButton=Oe;exports.NeynarAutoCompleteUser=ir;exports.NeynarCastCard=Be;exports.NeynarContextProvider=mt;exports.NeynarConversationList=As;exports.NeynarFeedList=wn;exports.NeynarFrameCard=Ge;exports.NeynarProfileCard=kn;exports.NeynarUserDropdown=qn;exports.SIWN_variant=s1;exports.Theme=ne;exports.useLocalStorage=I1;exports.useNeynarContext=K;
